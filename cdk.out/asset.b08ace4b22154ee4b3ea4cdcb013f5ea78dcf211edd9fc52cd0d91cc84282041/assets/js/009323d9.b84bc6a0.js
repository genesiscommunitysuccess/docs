"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[79822],{74226:function(e,t,s){s.r(t),s.d(t,{assets:function(){return d},contentTitle:function(){return o},default:function(){return f},frontMatter:function(){return l},metadata:function(){return m},toc:function(){return u}});var n=s(87462),i=s(63366),a=(s(67294),s(3905)),r=(s(61839),["components"]),l={title:"Key system files - genesis-system-definitions.kts",sidebar_label:"genesis-system-definitions.kts",id:"genesis-system-definitions",keywords:["getting started","basics","key system files","genesis-system-definitions","system definitions"],tags:["getting started","basics","key system files","genesis-system-definitions","system definitions"]},o=void 0,m={unversionedId:"getting-started/learn-the-basics/key-system-files/genesis-system-definitions",id:"getting-started/learn-the-basics/key-system-files/genesis-system-definitions",title:"Key system files - genesis-system-definitions.kts",description:"The system-definition file, genesis-system-definition.kts, is the basis of all the configurations, scripts, data models, etc.",source:"@site/docs/01_getting-started/01_learn-the-basics/09_key-system-files/02_genesis-system-definitions copy.md",sourceDirName:"01_getting-started/01_learn-the-basics/09_key-system-files",slug:"/getting-started/learn-the-basics/key-system-files/genesis-system-definitions",permalink:"/next/getting-started/learn-the-basics/key-system-files/genesis-system-definitions",draft:!1,tags:[{label:"getting started",permalink:"/next/tags/getting-started"},{label:"basics",permalink:"/next/tags/basics"},{label:"key system files",permalink:"/next/tags/key-system-files"},{label:"genesis-system-definitions",permalink:"/next/tags/genesis-system-definitions"},{label:"system definitions",permalink:"/next/tags/system-definitions"}],version:"current",sidebarPosition:2,frontMatter:{title:"Key system files - genesis-system-definitions.kts",sidebar_label:"genesis-system-definitions.kts",id:"genesis-system-definitions",keywords:["getting started","basics","key system files","genesis-system-definitions","system definitions"],tags:["getting started","basics","key system files","genesis-system-definitions","system definitions"]},sidebar:"learningSidebar",previous:{title:"process.xml",permalink:"/next/getting-started/learn-the-basics/key-system-files/process"},next:{title:"service definitions.xml",permalink:"/next/getting-started/learn-the-basics/key-system-files/service-definitions"}},d={},u=[],y={toc:u};function f(e){var t=e.components,s=(0,i.Z)(e,r);return(0,a.kt)("wrapper",(0,n.Z)({},y,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The system-definition file, ",(0,a.kt)("strong",{parentName:"p"},"genesis-system-definition.kts"),", is the basis of all the configurations, scripts, data models, etc. "),(0,a.kt)("p",null,"It defines system properties such as:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the type of Message Queue technology"),(0,a.kt)("li",{parentName:"ul"},"the database technology "),(0,a.kt)("li",{parentName:"ul"},"the hostname of the local database"),(0,a.kt)("li",{parentName:"ul"},"the database user name and the encrypted password"),(0,a.kt)("li",{parentName:"ul"},"whether or not metrics are enabled")),(0,a.kt)("p",null,"The properties can be applied at three different levels:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the global properties are available to all systems "),(0,a.kt)("li",{parentName:"ul"},"the system properties apply to specific systems; these setting override any similar global settings"),(0,a.kt)("li",{parentName:"ul"},"the host properties define the environment that the application is running in")),(0,a.kt)("p",null,"Here is an example of a ",(0,a.kt)("strong",{parentName:"p"},"genesis-system-definition.kts")," file for an application:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the global properties are defined first (for example, the database technology is FoundationDB)"),(0,a.kt)("li",{parentName:"ul"},"the system properties are defined next - in this case, there is only one: DEV"),(0,a.kt)("li",{parentName:"ul"},"within DEV, the hosts are defined - in this case, only genesis-serv")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-kotlin"},'package genesis.cfg\n\nsystemDefinition {\n    global {\n        item(name = "MqLayer", value = "ZeroMQ")\n        item(name = "DbLayer", value = "FDB")\n        item(name = "DictionarySource", value = "DB")\n        item(name = "AliasSource", value = "DB")\n        item(name = "MetricsEnabled", value = "false")\n\n        item(name = "ZeroMQProxyInboundPort", value = "5001")\n        item(name = "ZeroMQProxyOutboundPort", value = "5000")\n\n        item(name = "DbHost", value = "localhost")\n        item(name = "DbMode", value = "VANILLA")\n        item(name = "GenesisNetProtocol", value = "V2")\n        item(name = "ResourcePollerTimeout", value = "5")\n        item(name = "ReqRepTimeout", value = "60")\n        item(name = "MetadataChronicleMapAverageKeySizeBytes", value = "128")\n        item(name = "MetadataChronicleMapAverageValueSizeBytes", value = "1024")\n        item(name = "MetadataChronicleMapEntriesCount", value = "512")\n        item(name = "DaemonServerPort", value = "4568")\n        item(\n            name = "JVM_OPTIONS",\n            value = "-XX:MaxHeapFreeRatio=70 -XX:MinHeapFreeRatio=30 -XX:+UseG1GC -XX:+UseStringDeduplication -XX:OnOutOfMemoryError=\\"handleOutOfMemoryError.sh %p\\""\n        )\n    }\n\n    systems {\n        system(name = "DEV") {\n            hosts {\n                host(name = "genesis-serv")\n            }\n\n            item(name = "DbNamespace", value = "genesis")\n            item(name = "ClusterPort", value = "6000")\n            item(name = "Location", value = "LO")\n            item(name = "LogFramework", value = "LOG4J2")\n            item(name = "LogFrameworkConfig", value = "log4j2-default.xml")\n        }\n    }\n}\n')),(0,a.kt)("p",null,"Further information can be found on our ",(0,a.kt)("a",{parentName:"p",href:"/server/configuring-runtime/system-definitions/"},"system definitions")," page."))}f.isMDXComponent=!0}}]);