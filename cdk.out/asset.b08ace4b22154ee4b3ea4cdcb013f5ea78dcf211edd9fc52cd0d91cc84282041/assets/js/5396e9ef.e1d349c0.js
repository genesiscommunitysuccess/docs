"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[9336],{11332:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return d},default:function(){return h},frontMatter:function(){return s},metadata:function(){return o},toc:function(){return p}});var i=a(87462),n=a(63366),r=(a(67294),a(3905)),l=(a(61839),["components"]),s={title:"Data Structures - Views",sidebar_label:"Views",id:"views",keywords:["database","data structures","views"],tags:["database","data structures","views"]},d=void 0,o={unversionedId:"database/data-structures/views",id:"database/data-structures/views",title:"Data Structures - Views",description:"Views are defined in the -view-dictionary.kts files as discussed",source:"@site/docs/02_database/03_data-structures/03_views.md",sourceDirName:"02_database/03_data-structures",slug:"/database/data-structures/views",permalink:"/next/database/data-structures/views",draft:!1,tags:[{label:"database",permalink:"/next/tags/database"},{label:"data structures",permalink:"/next/tags/data-structures"},{label:"views",permalink:"/next/tags/views"}],version:"current",sidebarPosition:3,frontMatter:{title:"Data Structures - Views",sidebar_label:"Views",id:"views",keywords:["database","data structures","views"],tags:["database","data structures","views"]},sidebar:"databaseSidebar",previous:{title:"Indices",permalink:"/next/database/data-structures/indices"},next:{title:"Data types",permalink:"/next/database/data-types/data-types"}},u={},p=[{value:"Read-only",id:"read-only",level:2},{value:"Root table",id:"root-table",level:2},{value:"Types of view",id:"types-of-view",level:2},{value:"Cardinality",id:"cardinality",level:2},{value:"Parameterised views",id:"parameterised-views",level:2},{value:"Indices on views",id:"indices-on-views",level:2},{value:"Entities",id:"entities",level:2}],c={toc:p};function h(e){var t=e.components,a=(0,n.Z)(e,l);return(0,r.kt)("wrapper",(0,i.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Views are defined in the ",(0,r.kt)("inlineCode",{parentName:"p"},"-view-dictionary.kts")," files as discussed\n",(0,r.kt)("a",{parentName:"p",href:"/database/fields-tables-views/views/"},"here"),"."),(0,r.kt)("p",null,"In Genesis, a view is one table joined to one or more other tables. The first table is the root table. Other tables can be joined on to the root table to present composite data. "),(0,r.kt)("p",null,"Views are the Genesis equivalent of SQL select queries. Unlike ",(0,r.kt)("a",{parentName:"p",href:"/database/data-types/table-entities/"},"tables"),", views do not have any data of their own, but present a view based on the data in one or more tables. "),(0,r.kt)("h2",{id:"read-only"},"Read-only"),(0,r.kt)("p",null,"Due to their composite nature, views are inherently read-only. You cannot modify a record in a view. The only way\nto change the data is to change the underlying table(s). "),(0,r.kt)("h2",{id:"root-table"},"Root table"),(0,r.kt)("p",null,"A view always has a root table, this is the most important table in the view. It is the starting point of the join\noperations and the view will derive its indices from the root table."),(0,r.kt)("h2",{id:"types-of-view"},"Types of view"),(0,r.kt)("p",null,"Depending on the view definition, a different type of view will be created."),(0,r.kt)("h2",{id:"cardinality"},"Cardinality"),(0,r.kt)("p",null,"A view's cardinality tells us how many view records will be returned for every record in the root table. "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If a view can return a maximum of 1 record for each record in the root table, the view has single cardinality. "),(0,r.kt)("li",{parentName:"ul"},"If a view can return multiple records for each record in the root table, the view has multi cardinality. ")),(0,r.kt)("p",null,"The cardinality depends on the joins; a view with no joins, or only one-to-one joins, will be single\ncardinality, all others will be multi cardinality"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"Single Cardinality ",(0,r.kt)("br",null),"  View"),(0,r.kt)("th",{parentName:"tr",align:null},"Multi Cardinality",(0,r.kt)("br",null)," View"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Unique index in root table"),(0,r.kt)("td",{parentName:"tr",align:null},"Unique index"),(0,r.kt)("td",{parentName:"tr",align:null},"Non-unique index")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Non-unique index in root table"),(0,r.kt)("td",{parentName:"tr",align:null},"Non-unique index"),(0,r.kt)("td",{parentName:"tr",align:null},"Non-unique index")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Supports database read operations"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Supports database subscribe operations"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Supports backwards joins"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")))),(0,r.kt)("h2",{id:"parameterised-views"},"Parameterised views"),(0,r.kt)("p",null,"A parameterised view is one where the join is defined as an input parameter - rather than on a field in another table or a constant.\nThere are two important characteristics of a parameterised view:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"It can not be accessed without an input parameter."),(0,r.kt)("li",{parentName:"ul"},"It can have either single or multi cardinality.")),(0,r.kt)("h2",{id:"indices-on-views"},"Indices on views"),(0,r.kt)("p",null,"This is what you need to know:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Views do not have their own indices; these are derived from the root table. "),(0,r.kt)("li",{parentName:"ul"},"A view will always share the primary key of the root table."),(0,r.kt)("li",{parentName:"ul"},"A view will share any index from which at least the first field is included in the view. "),(0,r.kt)("li",{parentName:"ul"},"Subsequent fields are only included in the view's index until the first missing field. "),(0,r.kt)("li",{parentName:"ul"},"Unique indices from the root table will only be unique if all fields are included.")),(0,r.kt)("h2",{id:"entities"},"Entities"),(0,r.kt)("p",null,"During code generation, ",(0,r.kt)("a",{parentName:"p",href:"/database/data-types/views-entities/"},"view")," and ",(0,r.kt)("a",{parentName:"p",href:"/database/data-types/index-entities/"},"index")," entities are generated from the definitions in your application's ",(0,r.kt)("strong",{parentName:"p"},"view-dictionary.kts")," file. "),(0,r.kt)("p",null,"The name of each entity generated is the same as the definition, but it is converted from snake case to camel case; for example, VIEW_NAME becomes ViewName."),(0,r.kt)("p",null,"The generated entities are Kotlin data classes and can be built using the primary constructor. Just before the object is built, it is validated to make sure all required fields have been set."))}h.isMDXComponent=!0}}]);