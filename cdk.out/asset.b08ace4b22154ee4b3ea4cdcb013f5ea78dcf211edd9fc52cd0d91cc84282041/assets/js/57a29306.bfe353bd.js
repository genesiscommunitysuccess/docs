"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[59338],{31525:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return k},frontMatter:function(){return o},metadata:function(){return d},toc:function(){return u}});var i=a(87462),n=a(63366),l=(a(67294),a(3905)),r=(a(61839),["components"]),o={title:"Database concepts - Write",sidebar_label:"Write",id:"write",keywords:["database","concepts","write"],tags:["database","concepts","write"]},s=void 0,d={unversionedId:"database/database-concepts/write",id:"version-2022.3/database/database-concepts/write",title:"Database concepts - Write",description:"The following database operations are available:",source:"@site/versioned_docs/version-2022.3/02_database/02_database-concepts/03_write.md",sourceDirName:"02_database/02_database-concepts",slug:"/database/database-concepts/write",permalink:"/database/database-concepts/write",draft:!1,tags:[{label:"database",permalink:"/tags/database"},{label:"concepts",permalink:"/tags/concepts"},{label:"write",permalink:"/tags/write"}],version:"2022.3",sidebarPosition:3,frontMatter:{title:"Database concepts - Write",sidebar_label:"Write",id:"write",keywords:["database","concepts","write"],tags:["database","concepts","write"]},sidebar:"databaseSidebar",previous:{title:"Subscribe",permalink:"/database/database-concepts/subscribe"},next:{title:"Data Structures",permalink:"/database/data-structures/data-structures"}},p={},u=[{value:"Inserting",id:"inserting",level:2},{value:"Modifying",id:"modifying",level:2},{value:"Upsert",id:"upsert",level:2},{value:"Deleting",id:"deleting",level:2},{value:"Recover",id:"recover",level:2}],c={toc:u};function k(e){var t=e.components,a=(0,n.Z)(e,r);return(0,l.kt)("wrapper",(0,i.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"The following database operations are available:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"insert")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"insertAll")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"modify")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"modifyAll")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"upsert")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"upsertAll")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"delete")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"deleteAll")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"recover")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"recoverAll"))),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("strong",{parentName:"p"},"Index clash")),(0,l.kt)("p",{parentName:"admonition"},"Where we refer to an index clash below, we mean that the record to be written has the same fields on a unique index as an existing record.")),(0,l.kt)("h2",{id:"inserting"},"Inserting"),(0,l.kt)("p",null,"This operation writes a new record to the database. As part of the insert, any generated fields, such as sequence or auto-increment fields, will be populated. "),(0,l.kt)("p",null,"This operation will fail if a record with the same unique indices already exists."),(0,l.kt)("p",null,"The following insert operations are supported:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"insert")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"insertAll"))),(0,l.kt)("h2",{id:"modifying"},"Modifying"),(0,l.kt)("p",null,"This operation modifies an existing record. By default, the record will be looked up by the primary key, but you can provide another key. "),(0,l.kt)("p",null,"The operation will fail if the record does not exist, or if the change results in a key clash."),(0,l.kt)("p",null,"The following insert operations are supported:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"modify")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"modifyAll"))),(0,l.kt)("h2",{id:"upsert"},"Upsert"),(0,l.kt)("p",null,"The upsert operation modifies an existing record. If the record does not exist, the data provided is inserted as a new record. "),(0,l.kt)("p",null,"The operation will fail if it results in an index clash."),(0,l.kt)("p",null,"The following insert operations are supported:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"upsert")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"upsertAll"))),(0,l.kt)("h2",{id:"deleting"},"Deleting"),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"delete")," operation removes a record from the database. The operation will fail if the record is not found."),(0,l.kt)("p",null,"The following insert operations are supported:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"delete")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"deleteAll"))),(0,l.kt)("h2",{id:"recover"},"Recover"),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"recover")," operation enables you to insert a document into the database using the record's preset timestamp and ID."),(0,l.kt)("p",null,"The following recover operations are supported:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"recover")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"recoverAll"))),(0,l.kt)("admonition",{type:"danger"},(0,l.kt)("p",{parentName:"admonition"},"This API must be used with caution. Integrity checks are skipped, so it can leave your Genesis application in a poor state if used incorrectly. Record IDs and timestamps are assumed to be unique.")))}k.isMDXComponent=!0}}]);