"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[12909],{94317:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return l},default:function(){return g},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return m}});var r=t(87462),a=t(63366),i=(t(67294),t(3905)),o=(t(61839),["components"]),s={title:"Evaluator - Configuring Runtime",sidebar_label:"Configuring Runtime",id:"configuring-runtime",keywords:["server","evaluator","configuring runtime"],tags:["server","evaluator","configuring runtime"]},l=void 0,u={unversionedId:"server/evaluator/configuring-runtime",id:"version-2022.3/server/evaluator/configuring-runtime",title:"Evaluator - Configuring Runtime",description:"Introduction | Basics | Examples | Configuring runtime | Testing",source:"@site/versioned_docs/version-2022.3/03_server/08_evaluator/05_configuring-runtime.md",sourceDirName:"03_server/08_evaluator",slug:"/server/evaluator/configuring-runtime",permalink:"/server/evaluator/configuring-runtime",draft:!1,tags:[{label:"server",permalink:"/tags/server"},{label:"evaluator",permalink:"/tags/evaluator"},{label:"configuring runtime",permalink:"/tags/configuring-runtime"}],version:"2022.3",sidebarPosition:5,frontMatter:{title:"Evaluator - Configuring Runtime",sidebar_label:"Configuring Runtime",id:"configuring-runtime",keywords:["server","evaluator","configuring runtime"],tags:["server","evaluator","configuring runtime"]},sidebar:"serverModulesSidebar",previous:{title:"Examples",permalink:"/server/evaluator/examples"},next:{title:"Testing",permalink:"/server/evaluator/testing"}},p={},m=[{value:"Enabling the Evaluator",id:"enabling-the-evaluator",level:2}],c={toc:m};function g(e){var n=e.components,t=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/server/evaluator/introduction"},"Introduction")," | ",(0,i.kt)("a",{parentName:"p",href:"/server/evaluator/basics"},"Basics")," | ",(0,i.kt)("a",{parentName:"p",href:"/server/evaluator/examples"},"Examples")," | ",(0,i.kt)("a",{parentName:"p",href:"/server/evaluator/configuring-runtime"},"Configuring runtime")," | ",(0,i.kt)("a",{parentName:"p",href:"/server/evaluator/testing"},"Testing")),(0,i.kt)("h2",{id:"enabling-the-evaluator"},"Enabling the Evaluator"),(0,i.kt)("p",null,"The Evaluator process is not enabled by default. Before you can use the process, you must add/enable it in your ",(0,i.kt)("em",{parentName:"p"},"application"),(0,i.kt)("strong",{parentName:"p"},"-genesis-processes.xml")," file."),(0,i.kt)("p",null,"The example below is for a standard Genesis file for controlling ",(0,i.kt)("inlineCode",{parentName:"p"},"/home/trading/run/site-specific/cfg/genesis-processes.xml"),". In this case, we have called our process GENESIS_EVALUATOR. Ensure that ",(0,i.kt)("inlineCode",{parentName:"p"},"start")," is set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),". "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml",metastring:"{2}","{2}":!0},'<process name="GENESIS_EVALUATOR">\n    <start>true</start>\n    <groupId>GENESIS</groupId>\n    <options>-Xmx512m -DXSD_VALIDATE=false</options>\n    <module>genesis-evaluator</module>\n    <primaryOnly>true</primaryOnly>\n    <package>global.genesis.eventhandler,global.genesis.evaluator</package>\n    <description>Dynamic/time rules engine</description>\n</process>\n')),(0,i.kt)("p",null,"Add the Evaluator to the file ",(0,i.kt)("em",{parentName:"p"},"application-name"),(0,i.kt)("strong",{parentName:"p"},"-service-definitions.xml")," in your project folder ",(0,i.kt)("strong",{parentName:"p"},"server/jvm/"),(0,i.kt)("em",{parentName:"p"},"application-name"),(0,i.kt)("strong",{parentName:"p"},"-config/src/main/resources/cfg")," with the code below.\nReplace the PROCESS_NAME with the process you named above: in this case, GENESIS_EVALUATOR ."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<configuration>\n    ...\n    <service host="localhost" name="PROCESS_NAME" port="11003"/>\n</configuration>\n')),(0,i.kt)("p",null,'If your server was already running when you made the modification to the above files, run\n"',(0,i.kt)("inlineCode",{parentName:"p"},"genesisInstall")," -> ",(0,i.kt)("inlineCode",{parentName:"p"},"killServer")," -> ",(0,i.kt)("inlineCode",{parentName:"p"},"startServers"),'" from the command line on the server, so that the configuration takes effect.'),(0,i.kt)("p",null,"Run ",(0,i.kt)("inlineCode",{parentName:"p"},"mon")," to see if the above GENESIS_EVALUATOR process is running."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Note"),": the Evaluator only runs on a primary node within the cluster. If your application only has one node, you still have to identify it as the primary node. You can set your node to primary with the command ",(0,i.kt)("inlineCode",{parentName:"p"},"SetPrimary"),". If you do not do this, the GENESIS_EVALUATOR will go into STANDBY mode."),(0,i.kt)("p",null,"After you run ",(0,i.kt)("inlineCode",{parentName:"p"},"SetPrimary"),", you should be able to see all the processes running."))}g.isMDXComponent=!0}}]);