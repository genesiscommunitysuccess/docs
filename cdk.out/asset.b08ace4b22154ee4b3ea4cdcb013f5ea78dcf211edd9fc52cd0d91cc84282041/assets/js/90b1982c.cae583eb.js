"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[44289],{41547:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return r},default:function(){return f},frontMatter:function(){return d},metadata:function(){return o},toc:function(){return u}});var n=a(87462),l=a(63366),i=(a(67294),a(3905)),s=(a(61839),["components"]),d={title:"Fields - basics",sidebar_label:"Fields - basics",id:"fields-basics",keywords:["database","fields","basics"],tags:["database","fields","basics"]},r=void 0,o={unversionedId:"database/fields-tables-views/fields/fields-basics",id:"version-2022.3/database/fields-tables-views/fields/fields-basics",title:"Fields - basics",description:"Field types",source:"@site/versioned_docs/version-2022.3/02_database/01_fields-tables-views/01_fields/01_fields-basics.md",sourceDirName:"02_database/01_fields-tables-views/01_fields",slug:"/database/fields-tables-views/fields/fields-basics",permalink:"/database/fields-tables-views/fields/fields-basics",draft:!1,tags:[{label:"database",permalink:"/tags/database"},{label:"fields",permalink:"/tags/fields"},{label:"basics",permalink:"/tags/basics"}],version:"2022.3",sidebarPosition:1,frontMatter:{title:"Fields - basics",sidebar_label:"Fields - basics",id:"fields-basics",keywords:["database","fields","basics"],tags:["database","fields","basics"]},sidebar:"databaseSidebar",previous:{title:"Fields - introduction",permalink:"/database/fields-tables-views/fields/"},next:{title:"Fields - advanced",permalink:"/database/fields-tables-views/fields/fields-advanced"}},p={},u=[{value:"Field types",id:"field-types",level:2},{value:"Field type parameters",id:"field-type-parameters",level:2},{value:"Naming fields",id:"naming-fields",level:2},{value:"Duplicate names",id:"duplicate-names",level:3},{value:"Using the maxSize parameter",id:"using-the-maxsize-parameter",level:3},{value:"Pre-defined fields",id:"pre-defined-fields",level:2}],m={toc:u};function f(e){var t=e.components,a=(0,l.Z)(e,s);return(0,i.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"field-types"},"Field types"),(0,i.kt)("p",null,"The following field types are available:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"STRING"),(0,i.kt)("li",{parentName:"ul"},"DATE"),(0,i.kt)("li",{parentName:"ul"},"DATETIME"),(0,i.kt)("li",{parentName:"ul"},"ENUM"),(0,i.kt)("li",{parentName:"ul"},"LONG"),(0,i.kt)("li",{parentName:"ul"},"INT"),(0,i.kt)("li",{parentName:"ul"},"SHORT"),(0,i.kt)("li",{parentName:"ul"},"DOUBLE"),(0,i.kt)("li",{parentName:"ul"},"BIGDECIMAL"),(0,i.kt)("li",{parentName:"ul"},"NANO_TIMESTAMP"),(0,i.kt)("li",{parentName:"ul"},"RAW")),(0,i.kt)("p",null,"You can define each field, supplying a unique ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"type"),". There are also optional parameters you can specify, such as default value and non-nullable. (Some options are only relevant for certain types.)"),(0,i.kt)("p",null,"For example, here we define two ",(0,i.kt)("inlineCode",{parentName:"p"},"STRING")," fields. (The second is nullable; the first is not nullable):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'fields {\n    field(name = "ORDER_ID", type = STRING)\n    field(name = "DESCRIPTION", type = STRING, nullable = true)\n}\n')),(0,i.kt)("h2",{id:"field-type-parameters"},"Field type parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Default value"),(0,i.kt)("th",{parentName:"tr",align:null},"Sample Usage"),(0,i.kt)("th",{parentName:"tr",align:null},"Value Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"default"),(0,i.kt)("td",{parentName:"tr",align:null},"null"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'field(name = "AGE", type = INT, default=20)')),(0,i.kt)("td",{parentName:"tr",align:null},"The same type as the field"),(0,i.kt)("td",{parentName:"tr",align:null},"Set a default value for the field where not supplied on a database insert. Mandatory for ",(0,i.kt)("inlineCode",{parentName:"td"},"ENUM"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"maxSize"),(0,i.kt)("td",{parentName:"tr",align:null},"64 (unlimited for non sql DB)"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'field(name = "DESCRIPTION", type = STRING, maxSize=1000)')),(0,i.kt)("td",{parentName:"tr",align:null},"integer"),(0,i.kt)("td",{parentName:"tr",align:null},"Set the maxSize of a field. Applicable for ",(0,i.kt)("inlineCode",{parentName:"td"},"STRING"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"ENUM"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"RAW"),". Needed for ",(0,i.kt)("a",{parentName:"td",href:"/getting-started/glossary/glossary/#hft"},"HFT")," and SQL data structures. See below for more details")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"format"),(0,i.kt)("td",{parentName:"tr",align:null},"N/A"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'field(name = "DESCRIPTION", type = BIG_DECIMALS, format="#,##0.000")')),(0,i.kt)("td",{parentName:"tr",align:null},"Dependent on type"),(0,i.kt)("td",{parentName:"tr",align:null},"Set the maxSize of a field. Applicable for ",(0,i.kt)("inlineCode",{parentName:"td"},"STRING"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"RAW"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"sensitive"),(0,i.kt)("td",{parentName:"tr",align:null},"false"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'field(name = "PASSWORD", type = STRING, sensitive=true)')),(0,i.kt)("td",{parentName:"tr",align:null},"boolean"),(0,i.kt)("td",{parentName:"tr",align:null},"true if the field should be masked on its toString() output")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"nullable"),(0,i.kt)("td",{parentName:"tr",align:null},"true"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'field(name = "USER_NAME", type = STRING, sensitive=true)')),(0,i.kt)("td",{parentName:"tr",align:null},"boolean"),(0,i.kt)("td",{parentName:"tr",align:null},"true if the field should be masked on its toString() output")))),(0,i.kt)("h2",{id:"naming-fields"},"Naming fields"),(0,i.kt)("p",null,"As is always the case, it is worth being careful with the names you give fields. It is good practice to use clear descriptive names."),(0,i.kt)("h3",{id:"duplicate-names"},"Duplicate names"),(0,i.kt)("p",null,"If you create a field name that already exists, there are no consequences - as long as the field type is also the same. In effect, the second definition is simply ignored."),(0,i.kt)("p",null,"However, if you create a field name that matches an existing name and you give it a different field type, this generates a duplication error."),(0,i.kt)("p",null,"The error is shown when you generate the code."),(0,i.kt)("p",null,"If the code has already been generated - typically, if you are making changes to an existing server - the error is generated when you run ",(0,i.kt)("inlineCode",{parentName:"p"},"genesisInstall")," after the change."),(0,i.kt)("p",null,"More specifically, when you build, this generates a duplication warning if the fields are defined in the same way, or an error if they are defined differently. If the duplication is between your own field and one you have inherited from another module, make sure you change the name of your own field, not the one from the other module."),(0,i.kt)("p",null,"When you define a new field, it is good practice to run ",(0,i.kt)("inlineCode",{parentName:"p"},"codegen:generateSysDef"),". This will generate code based on the fields you have defined, and you will be able to use Intellisense to pick this new field within table definitions."),(0,i.kt)("h3",{id:"using-the-maxsize-parameter"},"Using the maxSize parameter"),(0,i.kt)("p",null,"When using an SQL database and you want a field's max size to be the same as that supported by the underlying database, you can use the helper function ",(0,i.kt)("inlineCode",{parentName:"p"},"dbMaxSize()"),"."),(0,i.kt)("p",null,"For example, if using Postgres and wanting a ",(0,i.kt)("inlineCode",{parentName:"p"},"STRING")," field's size to be equal to the max size Postgres supports, then you would define the field as:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'field(name = "DESCRIPTION", type = STRING, maxSize = dbMaxSize())\n')),(0,i.kt)("p",null,"You can also specify a target ",(0,i.kt)("inlineCode",{parentName:"p"},"maxSize"),". This is useful when you want to limit a field's size to a particular length, but you want to be flexible enough to support different SQL databases."),(0,i.kt)("p",null,"For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'field(name = "DESCRIPTION", type = STRING, maxSize = dbMaxSize(target = 9000))\n')),(0,i.kt)("p",null,"If the underlying database is Postgres, this sets the field's ",(0,i.kt)("inlineCode",{parentName:"p"},"maxSize")," to 9000, because Postgres can support up to 65535. But if you are using MS SQL, then the ",(0,i.kt)("inlineCode",{parentName:"p"},"maxSize")," is set to 8000, the maximum supported size for MS SQL."),(0,i.kt)("h2",{id:"pre-defined-fields"},"Pre-defined fields"),(0,i.kt)("p",null,"By default, you have access to all the standard field definitions in the Genesis low-code platform. You also have access to all the fields in any module that you include in your application (for example, the Auth module comes with a set of pre-defined fields)."))}f.isMDXComponent=!0}}]);