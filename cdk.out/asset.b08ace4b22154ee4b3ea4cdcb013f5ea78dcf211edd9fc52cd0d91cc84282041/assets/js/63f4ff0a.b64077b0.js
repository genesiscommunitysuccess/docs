"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[47767],{12011:function(e,t,a){a.r(t),a.d(t,{assets:function(){return A},contentTitle:function(){return d},default:function(){return D},frontMatter:function(){return s},metadata:function(){return o},toc:function(){return c}});var n=a(87462),i=a(63366),l=(a(67294),a(3905)),r=(a(61839),["components"]),s={title:"Go to the next level - State Management",sidebar_label:"State Management",id:"state-management",keywords:["getting started","quick start","next level","state management"],tags:["getting started","quick start","next level","state management"]},d=void 0,o={unversionedId:"getting-started/go-to-the-next-level/state-management",id:"getting-started/go-to-the-next-level/state-management",title:"Go to the next level - State Management",description:"State machines enable you to control workflow by defining the transitions from state to state. This example enables you to build a very simple state machine so that you can add new trades. We shall use the TRADE_STATUS field, which can have three possible states: NEW, ALLOCATED, or CANCELLED.",source:"@site/docs/01_getting-started/03_go-to-the-next-level/09_state_management.md",sourceDirName:"01_getting-started/03_go-to-the-next-level",slug:"/getting-started/go-to-the-next-level/state-management",permalink:"/next/getting-started/go-to-the-next-level/state-management",draft:!1,tags:[{label:"getting started",permalink:"/next/tags/getting-started"},{label:"quick start",permalink:"/next/tags/quick-start"},{label:"next level",permalink:"/next/tags/next-level"},{label:"state management",permalink:"/next/tags/state-management"}],version:"current",sidebarPosition:9,frontMatter:{title:"Go to the next level - State Management",sidebar_label:"State Management",id:"state-management",keywords:["getting started","quick start","next level","state management"],tags:["getting started","quick start","next level","state management"]},sidebar:"learningSidebar",previous:{title:"Consolidators",permalink:"/next/getting-started/go-to-the-next-level/consolidators"},next:{title:"Using Auditable Tables",permalink:"/next/getting-started/go-to-the-next-level/audit"}},A={},c=[{value:"Section objectives",id:"section-objectives",level:2},{value:"Data model",id:"data-model",level:2},{value:"Create the State Machine logic and data classes",id:"create-the-state-machine-logic-and-data-classes",level:2},{value:"Updating the dependencies for positions-app-tutorial-script-config",id:"updating-the-dependencies-for-positions-app-tutorial-script-config",level:2},{value:"Edit the Event Handler to add an integrated state machine",id:"edit-the-event-handler-to-add-an-integrated-state-machine",level:2},{value:"Add Event Handlers for the rest of the states",id:"add-event-handlers-for-the-rest-of-the-states",level:2},{value:"Conclusion",id:"conclusion",level:2}],g={toc:c};function D(e){var t=e.components,s=(0,i.Z)(e,r);return(0,l.kt)("wrapper",(0,n.Z)({},g,s,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/server/state-machine/introduction/"},"State machines")," enable you to control workflow by defining the transitions from state to state. This example enables you to build a very simple state machine so that you can add new trades. We shall use the ",(0,l.kt)("inlineCode",{parentName:"p"},"TRADE_STATUS")," field, which can have three possible states: ",(0,l.kt)("inlineCode",{parentName:"p"},"NEW"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"ALLOCATED"),", or ",(0,l.kt)("inlineCode",{parentName:"p"},"CANCELLED"),"."),(0,l.kt)("p",null,"Based on below state machine:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"TradeStatus ",(0,l.kt)("inlineCode",{parentName:"li"},"NEW")," can change to ",(0,l.kt)("inlineCode",{parentName:"li"},"ALLOCATED")," or ",(0,l.kt)("inlineCode",{parentName:"li"},"CANCELLED"),"."),(0,l.kt)("li",{parentName:"ul"},"TradeStatus ",(0,l.kt)("inlineCode",{parentName:"li"},"ALLOCATED")," can change to ",(0,l.kt)("inlineCode",{parentName:"li"},"CANCELLED"),"."),(0,l.kt)("li",{parentName:"ul"},"TradeStatus ",(0,l.kt)("inlineCode",{parentName:"li"},"CANCELLED")," can\u2019t go anywhere else."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"NEW")," is the only state you can use to insert new records.")),(0,l.kt)("p",null,(0,l.kt)("img",{src:a(7313).Z,width:"642",height:"431"})),(0,l.kt)("h2",{id:"section-objectives"},"Section objectives"),(0,l.kt)("p",null,"The goal of this section is to:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"create a state machine"),(0,l.kt)("li",{parentName:"ul"},"create allocated, cancel and modify Event Handlers"),(0,l.kt)("li",{parentName:"ul"},"add our state machine in our Event Handlers.")),(0,l.kt)("h2",{id:"data-model"},"Data model"),(0,l.kt)("p",null,"Make sure that you added the ",(0,l.kt)("inlineCode",{parentName:"p"},"TRADE_STATUS")," field to the ",(0,l.kt)("inlineCode",{parentName:"p"},"TRADE")," table in the ",(0,l.kt)("strong",{parentName:"p"},"positions-app-tutorial-tables-dictionary.kts")," file."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:"{4}","{4}":!0},'tables {\n    table (name = "TRADE", id = 11000) {\n\n        ...\n        TRADE_STATUS\n        ...\n\n        primaryKey {\n            TRADE_ID\n        }\n    }\n}\n')),(0,l.kt)("p",null,"If ",(0,l.kt)("inlineCode",{parentName:"p"},"TRADE_STATUS")," is missing, add it in, run ",(0,l.kt)("strong",{parentName:"p"},"generateFields")," to generate the fields and then ",(0,l.kt)("strong",{parentName:"p"},"generateDao")," to create the DAOs."),(0,l.kt)("h2",{id:"create-the-state-machine-logic-and-data-classes"},"Create the State Machine logic and data classes"),(0,l.kt)("p",null,"Fist we need to define our state machine class for type ",(0,l.kt)("inlineCode",{parentName:"p"},"Trade"),". To do this, create a file called ",(0,l.kt)("inlineCode",{parentName:"p"},"TradeStateMachine.kt")," under ",(0,l.kt)("strong",{parentName:"p"},"positions-app-tutorial-eventhandler/src/main/kotlin/global/genesis"),"."),(0,l.kt)("p",null,"Add a state machine definition and assign a field in the ",(0,l.kt)("inlineCode",{parentName:"p"},"onCommit")," block:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin"},'package global.genesis\n\nimport com.google.inject.Inject\nimport global.genesis.commons.annotation.Module\nimport global.genesis.db.rx.entity.multi.AsyncEntityDb\nimport global.genesis.db.statemachine.StateMachine\nimport global.genesis.db.statemachine.Transition\nimport global.genesis.gen.dao.Trade\nimport global.genesis.gen.dao.enums.TradeStatus\n\n@Module\nclass TradeStateMachine @Inject constructor(\n    db: AsyncEntityDb\n) {\n    private val internalState: StateMachine<Trade, TradeStatus, TradeEffect> = db.stateMachineBuilder {\n        readState { tradeStatus }\n\n        state(TradeStatus.NEW) {\n            // Trade fields can be changed when status is NEW\n            isMutable = true\n\n            initialState(TradeEffect.New) {\n                onValidate { trade ->\n                    if (trade.isTradeIdInitialised && trade.tradeId.isNotEmpty()) {\n                        verify {\n                            db hasNoEntry Trade.ById(trade.tradeId)\n                        }\n                    }\n                }\n            }\n\n            onCommit { trade ->\n                if (trade.enteredBy == "TestUser") {\n                    trade.price = 10.0\n                }\n            }\n\n            transition(TradeStatus.ALLOCATED, TradeEffect.Allocated)\n            transition(TradeStatus.CANCELLED, TradeEffect.Cancelled)\n        }\n\n        state(TradeStatus.ALLOCATED) {\n            // Trade fields cannot be changed when status is ALLOCATED\n            isMutable = false\n\n            transition(TradeStatus.CANCELLED, TradeEffect.Cancelled)\n        }\n\n        state(TradeStatus.CANCELLED) {\n            // Trade fields cannot be changed when status is CANCELLED\n            isMutable = false\n        }\n    }\n\n    suspend fun insert(trade: Trade): Transition<Trade, TradeStatus, TradeEffect> = internalState.create(trade)\n\n    suspend fun modify(tradeId: String, modify: suspend (Trade) -> Unit): Transition<Trade, TradeStatus, TradeEffect>? =\n        internalState.update(Trade.ById(tradeId)) { trade, _ -> modify(trade) }\n\n    suspend fun modify(trade: Trade): Transition<Trade, TradeStatus, TradeEffect>? = internalState.update(trade)\n}\n\nsealed class TradeEffect {\n    object New : TradeEffect()\n    object Allocated : TradeEffect()\n    object Cancelled : TradeEffect()\n}\n')),(0,l.kt)("p",null,"Next, we want to create two data classes that will be used in the cancel and allocated Event Handlers. Create two data classes called ",(0,l.kt)("inlineCode",{parentName:"p"},"TradeAllocated.kt")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"TradeCancelled.kt")," under ",(0,l.kt)("strong",{parentName:"p"},"positions-app-tutorial-messages/src/main/kotlin/global/genesis/message/event/"),"."),(0,l.kt)("p",null,"Both data classes have a single field: ",(0,l.kt)("inlineCode",{parentName:"p"},"tradeId")," of type ",(0,l.kt)("inlineCode",{parentName:"p"},"String"),"."),(0,l.kt)("p",null,"TradeAllocated:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin"},"data class TradeAllocated(val tradeId: String)\n")),(0,l.kt)("p",null,"TradeCancelled:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin"},"data class TradeCancelled(val tradeId: String)\n")),(0,l.kt)("h2",{id:"updating-the-dependencies-for-positions-app-tutorial-script-config"},"Updating the dependencies for positions-app-tutorial-script-config"),(0,l.kt)("p",null,"In order to use the following ",(0,l.kt)("inlineCode",{parentName:"p"},"TradeStateMachine")," and data classes (",(0,l.kt)("inlineCode",{parentName:"p"},"TradeAllocated")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"TradeCancelled"),") we just defined, we need to add the ",(0,l.kt)("strong",{parentName:"p"},"positions-app-tutorial-eventhandler")," and ",(0,l.kt)("strong",{parentName:"p"},"positions-app-tutorial-messages")," modules as dependencies inside the ",(0,l.kt)("strong",{parentName:"p"},"positions-app-tutorial-script-config")," modules ",(0,l.kt)("inlineCode",{parentName:"p"},"build.gradle")," file."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin"},'api(project(":positions-app-tutorial-eventhandler"))\napi(project(":positions-app-tutorial-messages"))\n')),(0,l.kt)("p",null,"Finally, refresh your gradle project."),(0,l.kt)("h2",{id:"edit-the-event-handler-to-add-an-integrated-state-machine"},"Edit the Event Handler to add an integrated state machine"),(0,l.kt)("p",null,"Let's edit the Event Handler to add an integrated state machine. First, in the ",(0,l.kt)("strong",{parentName:"p"},"positions-app-tutorial-eventhandler.kts")," file, declare a variable to be visible to all events by injecting the class ",(0,l.kt)("inlineCode",{parentName:"p"},"TradeStateMachine")," that we have just created. "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:"{2}","{2}":!0},'eventHandler {\n    val stateMachine = inject<TradeStateMachine>()\n\n    eventHandler<Trade>(name = "TRADE_INSERT", transactional = true) {\n        ...\n    }\n}\n')),(0,l.kt)("p",null,"Then, replace the ",(0,l.kt)("inlineCode",{parentName:"p"},"entryDb.insert(event.details)")," with the highlighted lines below in the ",(0,l.kt)("inlineCode",{parentName:"p"},"TRADE_INSERT")," ",(0,l.kt)("inlineCode",{parentName:"p"},"onCommit")," block."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:"{3,4,5}","{3,4,5}":!0},'eventHandler<Trade>(name = "TRADE_INSERT", transactional = true) {\n    onCommit { event ->\n        val trade = event.details\n        trade.enteredBy = event.userName\n        stateMachine.insert(trade)\n        ack()\n    }\n}\n')),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"You may have noticed we are passing a ",(0,l.kt)("inlineCode",{parentName:"p"},"transactional = true")," parameter into our event handler. This ensures any exception or nack returned will result in a complete rollback of all parts of the onCommit and onValidate (the transaction also covers read commands) blocks. You can read more about transactions ",(0,l.kt)("a",{parentName:"p",href:"/server/event-handler/basics/#transactional-event-handlers-acid"},"here"),".")),(0,l.kt)("h2",{id:"add-event-handlers-for-the-rest-of-the-states"},"Add Event Handlers for the rest of the states"),(0,l.kt)("p",null,"Create a new Event Handler called ",(0,l.kt)("inlineCode",{parentName:"p"},"TRADE_CANCELLED")," to handle cancellations. Then integrate the state machine in it."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin"},'eventHandler<TradeCancelled>(name = "TRADE_CANCELLED", transactional = true) {\n    onCommit { event ->\n        val message = event.details\n        stateMachine.modify(message.tradeId) { trade ->\n            trade.tradeStatus = TradeStatus.CANCELLED\n        }\n        ack()\n    }\n}\n')),(0,l.kt)("p",null,"Create a new Event Handler called ",(0,l.kt)("inlineCode",{parentName:"p"},"TRADE_ALLOCATED")," to handle completion. Integrate the state machine in it."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin"},'eventHandler<TradeAllocated>(name = "TRADE_ALLOCATED", transactional = true) {\n    onCommit { event ->\n        val message = event.details\n        stateMachine.modify(message.tradeId) { trade ->\n            trade.tradeStatus = TradeStatus.ALLOCATED\n        }\n        ack()\n    }\n}\n')),(0,l.kt)("p",null,"Create a new Event Handler called ",(0,l.kt)("inlineCode",{parentName:"p"},"TRADE_MODIFY")," to handle modifications. Integrate the state machine in it."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:"{4}","{4}":!0},'eventHandler<Trade>(name = "TRADE_MODIFY", transactional = true) {\n    onCommit { event ->\n        val trade = event.details\n        stateMachine.modify(trade)\n        ack()\n    }\n}\n')),(0,l.kt)("p",null,"Your ",(0,l.kt)("strong",{parentName:"p"},"positions-app-tutorial-eventhandler.kts")," file at the end should look this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin"},'import global.genesis.TradeStateMachine\nimport global.genesis.message.event.TradeAllocated\nimport global.genesis.message.event.TradeCancelled\n\neventHandler {\n    val stateMachine = inject<TradeStateMachine>()\n\n    eventHandler<Trade>(name = "TRADE_INSERT", transactional = true) {\n        onCommit { event ->\n            val trade = event.details\n            trade.enteredBy = event.userName\n            stateMachine.insert(trade)\n            ack()\n        }\n    }\n\n    eventHandler<TradeCancelled>(name = "TRADE_CANCELLED", transactional = true) {\n        onCommit { event ->\n            val message = event.details\n            stateMachine.modify(message.tradeId) { trade ->\n                trade.tradeStatus = TradeStatus.CANCELLED\n            }\n            ack()\n        }\n    }\n\n    eventHandler<TradeAllocated>(name = "TRADE_ALLOCATED", transactional = true) {\n        onCommit { event ->\n            val message = event.details\n            stateMachine.modify(message.tradeId) { trade ->\n                trade.tradeStatus = TradeStatus.ALLOCATED\n            }\n            ack()\n        }\n    }\n\n    eventHandler<Trade>(name = "TRADE_MODIFY", transactional = true) {\n        onCommit { event ->\n            val trade = event.details\n            stateMachine.modify(trade)\n            ack()\n        }\n    }\n}\n')),(0,l.kt)("p",null,"You want to manage the state of the trade, so we don't want a delete Event Handler. If a trade is incorrect and needs to be deleted, similar functionality can be achieved by cancelling the trade."),(0,l.kt)("p",null,"To test it, you can try to modify a ",(0,l.kt)("inlineCode",{parentName:"p"},"TRADE")," (assuming you already have at least one trade in the database) and see the state change accordingly. "),(0,l.kt)("h2",{id:"conclusion"},"Conclusion"),(0,l.kt)("p",null,"With this, we finish showing how an application can add state management. If you want to see it in action, go to ",(0,l.kt)("a",{parentName:"p",href:"/server/integration/rest-endpoints/introduction/"},"Endpoints")," for information about testing the back end."))}D.isMDXComponent=!0},7313:function(e,t){t.Z="data:image/png;base64,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948AjLV///6lS5dee+21klt//Qojp8JZWVnLly8/ePCgfwVcMDKcHOfOnZO3hzI7Bw0a5E/YMDKh77777g0bNpSVlflXAADznD59esuWLXPmzLn44ov99StMenr63LlzP/jggzNnzvhXwAUjw0lTVVX1zjvvXHPNNa1bt/bnbJB82a1bt4ULFx47dswfCgCmqqioWLlyZe/evaOXsv79+69evbqystIfimQgw8m0Z8+e2bNn9+vX76KLLgpNXGnwuHHjXn75ZTlj9scBgKlqa2vljGLKlCk9evRo06aNt5SlpaX17Nnzjjvu2Lx5sz8OSUKGk+nIkSN/+tOfpk2b1rVr19DcveKKK5YuXbpt2zZ+OAuA+STDe/fu9X43qV27dt5S1r59+5tuuul3v/vd559/7o9DkpDhZKqurj5w4MCyZctCP6jVtm3bW265ZcuWLeXl5f4gADBbZWXlrl27Zs2aFfpgr2PHjg899NCePXv4RDrpyHCSnTt37tVXXx01apS8i2zdunX37t3nzJlz+PBhfzcA2OD06dO//vWv+/Tp06ZNm7S0tAEDBjz77LP800MqkOEkkxPijz/+eO7cuUOGDOnWrdttt922Zs2akydP+rsBwAZS3PXr18+YMePSSy+97LLL7r///jfeeIMfcFEhfob5PdfmOnXq1ObNm3Nzc2+66aaVK1f+73//4598axamHFRgXjWLPFylpaWvvfbaD37wg6lTp65bt66srIzHsFkSfLgSOhuWihw7duzgwYMHEI88SiUlJcXFxb/61a9mz579j3/8Q7786quv/N2IzXvo5D04L3UoUllZKWlhKUuE93r86KOPHn300Z/97GeffPKJfMlDlwh5lOQtS1VVVTIzLBP3mWeeufPOO3/4wx/egXjkgZI/R40aNXDgwEmTJt11113yXtLbhSbI7Hr44Yffe+89PjyACrImfvrpp/PmzfMmmzfrEIusWrJ2ZWdnDx06dPjw4VOmTPFWNjQhNK8WLVq0b9++ZGZ4z549kydPbteuXb9+/b797W9fjiaNGDFC/rziiiu+853vjBw50vsSTfAepU6dOqWnp7/44ot8/wkqyJr4xhtvDBs2rGPHjpmZmTLr/PmHxshL0lu7ZB1jKUuQ9HHw4MHSSln/t2zZkswMf/bZZxMmTJCJu2rVqvfff//dd9/djCbJQ/Sf//xH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"}}]);