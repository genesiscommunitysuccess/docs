"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[61811],{45748:function(e,n,t){t.r(n),t.d(n,{assets:function(){return u},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return o},metadata:function(){return c},toc:function(){return p}});var i=t(87462),s=t(63366),r=(t(67294),t(3905)),a=(t(61839),["components"]),o={title:"Server Configuration - Service Definitions",sidebar_label:"Service Definitions",id:"service-definitions",keywords:["server","configuration","service definitions"],tags:["server","configuration","service definitions"]},l=void 0,c={unversionedId:"server/configuring-runtime/service-definitions",id:"server/configuring-runtime/service-definitions",title:"Server Configuration - Service Definitions",description:"Just as each application must have  a -processes.xml config file, it must also have a -service-definitions.xml file. This is where you specify the ports of the various processes. These  are used to communicate internally between processes.",source:"@site/docs/03_server/01_configuring-runtime/04_service-definitions.md",sourceDirName:"03_server/01_configuring-runtime",slug:"/server/configuring-runtime/service-definitions",permalink:"/next/server/configuring-runtime/service-definitions",draft:!1,tags:[{label:"server",permalink:"/next/tags/server"},{label:"configuration",permalink:"/next/tags/configuration"},{label:"service definitions",permalink:"/next/tags/service-definitions"}],version:"current",sidebarPosition:4,frontMatter:{title:"Server Configuration - Service Definitions",sidebar_label:"Service Definitions",id:"service-definitions",keywords:["server","configuration","service definitions"],tags:["server","configuration","service definitions"]},sidebar:"serverModulesSidebar",previous:{title:"Processes",permalink:"/next/server/configuring-runtime/processes"},next:{title:"Genesis Router",permalink:"/next/server/configuring-runtime/genesis-router"}},u={},p=[{value:"Enable SSL for processes",id:"enable-ssl-for-processes",level:2}],f={toc:p};function m(e){var n=e.components,t=(0,s.Z)(e,a);return(0,r.kt)("wrapper",(0,i.Z)({},f,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Just as each application must have  a ",(0,r.kt)("em",{parentName:"p"},"-processes.xml")," config file, it must also have a ",(0,r.kt)("em",{parentName:"p"},"-service-definitions.xml")," file. This is where you specify the ports of the various processes. These  are used to communicate internally between processes."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<configuration>\n    <service host="localhost" name="GENESIS_CLUSTER" port="8510"/>\n    <service host="localhost" name="GENESIS_WEBMON" port="8511"/>\n    <service host="localhost" name="GENESIS_WEB_ADAPTER" port="8512"/>\n</configuration>\n')),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"genesisInstall")," is executed, all products have their ",(0,r.kt)("em",{parentName:"p"},"-service-definitions.xml")," files compiled into a system-wide ",(0,r.kt)("strong",{parentName:"p"},"$GC/global-service-definitions.xml"),". Here is an example of a global-service-definitions.xml file where we have the ",(0,r.kt)("em",{parentName:"p"},"auth"),", ",(0,r.kt)("em",{parentName:"p"},"genesis")," and ",(0,r.kt)("em",{parentName:"p"},"gcom")," products installed:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<configuration>\n    <service external="false" host="localhost" name="GENESIS_AUTH_DATASERVER" port="8502" secure="false"/>\n    <service external="false" host="localhost" name="GENESIS_AUTH_MANAGER" port="8501" secure="false"/>\n    <service external="false" host="localhost" name="GENESIS_AUTH_PERMS" port="8503" secure="false"/>\n    <service external="false" host="localhost" name="GENESIS_CLUSTER" port="8510" secure="false"/>\n    <service external="false" host="localhost" name="GENESIS_WEBMON" port="8511" secure="false"/>\n    <service external="false" host="localhost" name="GENESIS_ROUTER" port="8512" secure="false"/>\n    <service external="false" host="localhost" name="GCOM_DATA_SERVER" port="8570" secure="false"/>\n    <service external="false" host="localhost" name="GCOM_REQUEST_SERVER" port="8571" secure="false"/>\n</configuration>\n')),(0,r.kt)("p",null,"If the process lives on a different server, then set the ",(0,r.kt)("inlineCode",{parentName:"p"},"external"),' attribute to  "true".\nFor example:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<configuration>\n    <service host="hostname" name="GENESIS_CLUSTER" port="8510" external="true"/>\n</configuration>\n')),(0,r.kt)("h2",{id:"enable-ssl-for-processes"},"Enable SSL for processes"),(0,r.kt)("p",null,"To enable SSL for a process, set the ",(0,r.kt)("inlineCode",{parentName:"p"},"secure"),' attribute to  "true" on the process in the ',(0,r.kt)("strong",{parentName:"p"},"-service-definitions.xml")," file.\nFor example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<configuration>\n    <service host="localhost" name="GCOM_REQUEST_SERVER" port="8571" secure="true"/>\n</configuration>\n')),(0,r.kt)("p",null,"You must also edit the ",(0,r.kt)("em",{parentName:"p"},"application")," ",(0,r.kt)("strong",{parentName:"p"},"genesis-system-definition.kts")," file, as specified in the example below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},'systemDefinition {\n    global {\n        item(name = "DefaultKeystoreLocation", value = "/home/applicationName/keystore.jks")\n        item(name = "DefaultKeystorePassword", value = "Password123")\n        item(name = "DefaultCertificate", value = "/home/applicationName/certificate.crt")\n    }\n}\n')),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"The global-service-definitions.xml file and the processes.xml file are are erased and re-generated every time you run ",(0,r.kt)("inlineCode",{parentName:"p"},"genesisInstall"),". (You should never change these files, because any changes will be lost the next time you run genesisInstall.)"),(0,r.kt)("p",{parentName:"admonition"},"Therefore, it is essential that you set the ",(0,r.kt)("strong",{parentName:"p"},"service-definitions.xml")," file this way for every service or module for which you want to enable SSL.")))}m.isMDXComponent=!0}}]);