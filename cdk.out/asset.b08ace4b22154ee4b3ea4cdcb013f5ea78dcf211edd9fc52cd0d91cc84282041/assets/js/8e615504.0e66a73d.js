"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[91813],{17351:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return o},default:function(){return k},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return u}});var n=a(87462),l=a(63366),r=(a(67294),a(3905)),i=(a(61839),["components"]),s={title:"Operations - Server Commands",sidebar_label:"Server Commands",id:"server-commands",keywords:["operations","server","commands"],tags:["database","server","commands"]},o=void 0,p={unversionedId:"operations/commands/server-commands",id:"version-2022.3/operations/commands/server-commands",title:"Operations - Server Commands",description:"Genesis has numerous built-in commands that have their own individual functions.",source:"@site/versioned_docs/version-2022.3/05_operations/02_commands/01_server-commands.md",sourceDirName:"05_operations/02_commands",slug:"/operations/commands/server-commands",permalink:"/operations/commands/server-commands",draft:!1,tags:[{label:"database",permalink:"/tags/database"},{label:"server",permalink:"/tags/server"},{label:"commands",permalink:"/tags/commands"}],version:"2022.3",sidebarPosition:1,frontMatter:{title:"Operations - Server Commands",sidebar_label:"Server Commands",id:"server-commands",keywords:["operations","server","commands"],tags:["database","server","commands"]},sidebar:"operationsSidebar",previous:{title:"Config Management",permalink:"/operations/server-setup/config-management"},next:{title:"Clusters",permalink:"/operations/clustering/clusters"}},d={},u=[{value:"genesisInstall script",id:"genesisinstall-script",level:2},{value:"Syntax",id:"syntax",level:3},{value:"remap script",id:"remap-script",level:2},{value:"Syntax",id:"syntax-1",level:3},{value:"startProcess script",id:"startprocess-script",level:2},{value:"Syntax",id:"syntax-2",level:3},{value:"killProcess script",id:"killprocess-script",level:2},{value:"Syntax",id:"syntax-3",level:3},{value:"startServer script",id:"startserver-script",level:2},{value:"Syntax",id:"syntax-4",level:3},{value:"killServer script",id:"killserver-script",level:2},{value:"Syntax",id:"syntax-5",level:3},{value:"DbMon script",id:"dbmon-script",level:2},{value:"Syntax",id:"syntax-6",level:3},{value:"SendIt script",id:"sendit-script",level:2},{value:"Syntax",id:"syntax-7",level:3},{value:"DumpIt script",id:"dumpit-script",level:2},{value:"Syntax",id:"syntax-8",level:3},{value:"RenameFields script",id:"renamefields-script",level:2},{value:"Syntax",id:"syntax-9",level:3},{value:"LogLevel script",id:"loglevel-script",level:2},{value:"Syntax",id:"syntax-10",level:3},{value:"mon script",id:"mon-script",level:2},{value:"Syntax",id:"syntax-11",level:3},{value:"DropTable",id:"droptable",level:2},{value:"Syntax",id:"syntax-12",level:3},{value:"PopulateHolidays",id:"populateholidays",level:2},{value:"Syntax",id:"syntax-13",level:3},{value:"CountRecords",id:"countrecords",level:2},{value:"Syntax",id:"syntax-14",level:3},{value:"MigrateAliases",id:"migratealiases",level:2},{value:"Syntax",id:"syntax-15",level:3},{value:"MigrateDictionary",id:"migratedictionary",level:2},{value:"Syntax",id:"syntax-16",level:3},{value:"GetNextSequenceNumbers",id:"getnextsequencenumbers",level:2},{value:"Syntax",id:"syntax-17",level:3},{value:"GetSequenceCount",id:"getsequencecount",level:2},{value:"Syntax",id:"syntax-18",level:3},{value:"GetAutoIncrementCount",id:"getautoincrementcount",level:2},{value:"Syntax",id:"syntax-19",level:3},{value:"SetSequence",id:"setsequence",level:2},{value:"Syntax",id:"syntax-20",level:3},{value:"SetAutoIncrement",id:"setautoincrement",level:2},{value:"Syntax",id:"syntax-21",level:3},{value:"GenesisRun",id:"genesisrun",level:2},{value:"DictionaryBuilder",id:"dictionarybuilder",level:2},{value:"Syntax",id:"syntax-22",level:3},{value:"Example",id:"example",level:3},{value:"How the script behaves",id:"how-the-script-behaves",level:3},{value:"Keys and indexes",id:"keys-and-indexes",level:4},{value:"Type mapping",id:"type-mapping",level:3},{value:"ReconcileDatabaseSync",id:"reconciledatabasesync",level:2},{value:"Options",id:"options",level:3},{value:"Examples",id:"examples",level:3},{value:"PurgeTables",id:"purgetables",level:2},{value:"Inject repository",id:"inject-repository",level:3},{value:"Purge by date",id:"purge-by-date",level:3},{value:"Purge by range:",id:"purge-by-range",level:3},{value:"Purge bulk data:",id:"purge-bulk-data",level:3},{value:"Filters",id:"filters",level:3},{value:"AppGen",id:"appgen",level:2},{value:"Data server and request server",id:"data-server-and-request-server",level:3},{value:"Event handler",id:"event-handler",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Examples",id:"examples-1",level:3},{value:"SSL/TLS Support",id:"ssltls-support",level:2},{value:"Generating a self-signed keystore and respective certificate (optional)",id:"generating-a-self-signed-keystore-and-respective-certificate-optional",level:3},{value:"Installing TLS certificate in different environments",id:"installing-tls-certificate-in-different-environments",level:3},{value:"Linux",id:"linux",level:4},{value:"Windows",id:"windows",level:4},{value:"Securing Genesis processes",id:"securing-genesis-processes",level:2},{value:"Setting the process to communication via SSL/TLS",id:"setting-the-process-to-communication-via-ssltls",level:3},{value:"Setting the TLS settings for all processes by default",id:"setting-the-tls-settings-for-all-processes-by-default",level:3},{value:"Setting the TLS settings for each individual process",id:"setting-the-tls-settings-for-each-individual-process",level:3},{value:"GUI",id:"gui",level:3},{value:"Example",id:"example-1",level:4},{value:"Web front-end",id:"web-front-end",level:3}],m={toc:u};function k(e){var t=e.components,a=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Genesis has numerous built-in commands that have their own individual functions.\nThis page goes through them and details the function, parameters and use cases of those commands. "),(0,r.kt)("p",null,"Once an application has been built and zipped, you can install it in any another system that contains the Genesis low-code platform."),(0,r.kt)("p",null,"To ensure a correct installation, you must follow the product installation procedure."),(0,r.kt)("h2",{id:"genesisinstall-script"},"genesisInstall script"),(0,r.kt)("p",null,"This script validates all system and product configuration, checking for things such as field duplication."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"genesisInstall")," looks at all the folders (apart from runtime and generated), all the modules, and all files in the ",(0,r.kt)("strong",{parentName:"p"},"cfg")," directory. It copies the config files from the ",(0,r.kt)("strong",{parentName:"p"},"cfg")," directory into the ",(0,r.kt)("strong",{parentName:"p"},"generated")," folder. "),(0,r.kt)("p",null,"In the files collected, the command examines the installation environment and looks for system definition tokens (file names with suffix ",(0,r.kt)("strong",{parentName:"p"},".tmplt.xml"),"). The generated ",(0,r.kt)("strong",{parentName:"p"},"cfg")," file names have their token placeholders replaced with the environment's system definition value for the token, and the suffix will be changed to ",(0,r.kt)("strong",{parentName:"p"},".auto.xml"),"."),(0,r.kt)("p",null,"The command also checks the system-specific definitions and uses these to replace any definitions that have the same name in any of the modules. Where a  file in ",(0,r.kt)("strong",{parentName:"p"},"site-specific/cfg")," has the same name as a file in a module's ",(0,r.kt)("strong",{parentName:"p"},"cfg"),", the version in ",(0,r.kt)("strong",{parentName:"p"},"site-specific/cfg")," will always be used."),(0,r.kt)("p",null,"Following this, when you start any process, the 'startProcess' command reads from the ",(0,r.kt)("strong",{parentName:"p"},"cfg")," directory in the ",(0,r.kt)("strong",{parentName:"p"},"generated")," folder."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"genesisInstall")," also completes config checking, looking out for mistakes in the configured code and providing warnings and error messages. If an error is encountered, the configuration will not be propagated to the ",(0,r.kt)("strong",{parentName:"p"},"run/generated/cfg")," area."),(0,r.kt)("h3",{id:"syntax"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"genesisInstall [--ignore]\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"--ignore"),(0,r.kt)("td",{parentName:"tr",align:null},"no"),(0,r.kt)("td",{parentName:"tr",align:null},"If supplied, will ignore errors in the configuration files"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"--ignoreHooks"),(0,r.kt)("td",{parentName:"tr",align:null},"no"),(0,r.kt)("td",{parentName:"tr",align:null},"If supplied, will ignore any install hooks found"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("p",null,"Once complete, all configuration files will be copied and, where necessary, merged into the ",(0,r.kt)("strong",{parentName:"p"},"~/run/generated/cfg")," file, which we alias as ",(0,r.kt)("strong",{parentName:"p"},"$GC"),"."),(0,r.kt)("p",null,"If any problems are found in the generated configuration files, they will be deleted. This forces you to correct the errors in the original configuration files."),(0,r.kt)("p",null,"To ignore errors in the configuration files, use the ",(0,r.kt)("inlineCode",{parentName:"p"},"--ignore")," argument. This leaves the configuration files undeleted, even if errors are found."),(0,r.kt)("p",null,"All process configuration is stored within ",(0,r.kt)("strong",{parentName:"p"},"$GC"),"."),(0,r.kt)("h2",{id:"remap-script"},"remap script"),(0,r.kt)("p",null,"The remap script reads all dictionary files (fields and table definitions) from ",(0,r.kt)("strong",{parentName:"p"},"$GC")," and remaps the memory-resident database accordingly."),(0,r.kt)("p",null,"It also generates dao objects based on the dictionary tables, so you can perform database operations in a type-safe way."),(0,r.kt)("p",null,"Additionally, it will update the Genesis alias store (if running Aerospike or FDB)."),(0,r.kt)("p",null,"The Aerospike DB layer needs UDFs (user defined functions) to work correctly, and these are also generated at this step."),(0,r.kt)("p",null,"When you run ",(0,r.kt)("inlineCode",{parentName:"p"},"remap"),", the database is automatically locked to ensure that no other ",(0,r.kt)("inlineCode",{parentName:"p"},"remap")," can run concurrently. "),(0,r.kt)("p",null,"If the database crashes during a ",(0,r.kt)("inlineCode",{parentName:"p"},"remap")," and the database remains locked (or if the database is locked for any other reason), run ",(0,r.kt)("inlineCode",{parentName:"p"},"remap --force --commit")," to unlock the database."),(0,r.kt)("h3",{id:"syntax-1"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"remap [-c | --commit]\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"--force"),(0,r.kt)("td",{parentName:"tr",align:null},"no"),(0,r.kt)("td",{parentName:"tr",align:null},"If supplied, will unlock a locked database"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-c"),(0,r.kt)("td",{parentName:"tr",align:null},"--commit"),(0,r.kt)("td",{parentName:"tr",align:null},"no"),(0,r.kt)("td",{parentName:"tr",align:null},"If supplied, will apply dictionary changes to the database"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("p",null,"If you run remap with no arguments, it simply gives a report of changes that exist in the configuration."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"==================================\n\nTable Changes\n\n==================================\n\nAdded ADMINISTRATOR.NAME\n\n==================================\n\nField changes\n\n==================================\n\nNo changes\n\n==================================\n\nKey changes\n\n==================================\n\nNo changes\n")),(0,r.kt)("p",null,"To commit the changes to the database, use the ",(0,r.kt)("strong",{parentName:"p"},"--commit")," argument."),(0,r.kt)("h2",{id:"startprocess-script"},"startProcess script"),(0,r.kt)("p",null,"This script starts a Genesis process. It takes a single positional argument:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"<process name>")," and an optional argument ",(0,r.kt)("inlineCode",{parentName:"p"},"--dump"),", to ensure output is shown on screen (useful for debugging)."),(0,r.kt)("h3",{id:"syntax-2"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"startProcess processName [--hostname <[host names]>] [--dump] \n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"processName")," is the name of the process that you want to start."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-s HOSTNAME ","[HOSTNAME ...]"),(0,r.kt)("td",{parentName:"tr",align:null},"--hostname HOSTNAME HOSTNAME ","[HOSTNAME ...]"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"where   the application is running on more than one node, this identifies the node where you want to start the process (so you can start a process on a different node). Specify the Host Name"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-c"),(0,r.kt)("td",{parentName:"tr",align:null},"--cluster"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"starts  the process on every node in the cluster"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"--dump"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"displays progress of the process, which is useful for debugging"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"--coldStart"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"this is only used if you have a consolidator. Consolidators aggregate data from IN table(s) into an OUT table; a coldStart effectively zeros out values in the OUT table records and then iterating over all the IN table records and rebuilding them on startUp. After this, the consildators in their normal way"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("p",null,"The script looks in the ",(0,r.kt)("strong",{parentName:"p"},"processes.xml")," file (see startServer below) to find out how to start the process. For example ",(0,r.kt)("inlineCode",{parentName:"p"},"startProcess AUTH_DATASERVER")," starts the process with the correct classpath and extra arguments. Something similar to:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"java -Xmx256m -DXSD_VALIDATE=false global.genesis.dta.dta_process.DtaProcessBootstrap -name AUTH_DATASERVER -scan global.genesis.dta.dataserver -module dataserver -config auth-dataserver.xml -loggingLevel INFO,DATADUMP_OFF >/dev/null 2> $L/AUTH_DATASERVER.log.err &\n")),(0,r.kt)("h2",{id:"killprocess-script"},"killProcess script"),(0,r.kt)("p",null,"This script is used to terminate a specified process."),(0,r.kt)("h3",{id:"syntax-3"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"killProcess process_name HOSTNAME [HOSTNAME ...], -s HOSTNAME [HOSTNAME ...] [--force] [--wait]\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-s   HOSTNAME ","[HOSTNAME ...]"),(0,r.kt)("td",{parentName:"tr",align:null},"--hostname HOSTNAME HOSTNAME   ","[HOSTNAME ...]"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Where   the application is running on more than one node, this identifies the node where you want to kill the process (so you can kill a process on a different node). Specify the Host Name."),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f"),(0,r.kt)("td",{parentName:"tr",align:null},"--force"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"forcefully   kills a process (using kill -9)"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-w WAIT"),(0,r.kt)("td",{parentName:"tr",align:null},"--wait WAIT"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"specifies   how many seconds to wait before forcing the kill"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-c"),(0,r.kt)("td",{parentName:"tr",align:null},"--cluster"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"kills   the process on every node in the cluster"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("h2",{id:"startserver-script"},"startServer script"),(0,r.kt)("p",null,"This script reads the ",(0,r.kt)("strong",{parentName:"p"},"$GC/processes.xml")," file to determine which processes to start and how to start them."),(0,r.kt)("h3",{id:"syntax-4"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"startServer [--hostname <[host names]>] [--ignoreDaemon] \n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-s HOSTNAME ","[HOSTNAME ...]"),(0,r.kt)("td",{parentName:"tr",align:null},"--hostname   HOSTNAME ","[HOSTNAME ...]"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"If the application is running on more than one node, this identifies the node where you want to start the server (so you can start a server on a different node). Specify the Host Name"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-c"),(0,r.kt)("td",{parentName:"tr",align:null},"--cluster"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Starts the process on every node in the cluster,"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-i"),(0,r.kt)("td",{parentName:"tr",align:null},"--ignoreDaemon"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"avoids killing/starting the daemon"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"processes.xml")," file looks like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<configuration>\n    <process name="GENESIS_AUTH_MANAGER">\n        <start>true</start>\n        <options>-Xmx512m -DXSD_VALIDATE=false</options>\n        <module>auth-manager</module>\n        <package>global.genesis.dta.auth.manager</package>\n        <classpath>quickfixj-core-2.1.0.jar</classpath>\n    </process>\n    <process name="GENESIS_AUTH_DATASERVER">\n        <start>true</start>\n        <options>-Xmx512m -DXSD_VALIDATE=false</options>\n        <module>dataserver</module>\n        <package>global.genesis.dataserver</package>\n        <config>auth-dataserver.xml</config>\n        <loggingLevel>INFO,DATADUMP_OFF</loggingLevel>\n    </process>\n    <process name="GENESIS_AUTH_PERMS">\n        <start>true</start>\n        <options>-Xmx512m -DXSD_VALIDATE=false</options>\n        <module>auth-perms</module>\n        <package>global.genesis.dta.auth.perms</package>\n        <dependency>AUTH_MANAGER,AUTH_DATASERVER</dependency>\n    </process>\n</configuration>\n')),(0,r.kt)("p",null,"Each process property is defined in here, including Java arguments, configuration files, and scripts."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"dependency")," tag defines the processes that the current process is dependent on. In the above example, the GENESIS_AUTH_PERMS process will start after all its dependencies have started."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"loggingLevel")," tag defines the default log level for the process, which is based on slf4j levels. It also accepts DATADUMP_ON/DATADUMP_OFF to declare explicitly that you would like to log all the received/sent network messages."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"classpath")," tag defines additional jar files that might be needed by the microservices. The jar files declared in this section have to be comma-separated; they need to exist within a lib folder for one of the genesis products in the environment. A use case would be to use the ",(0,r.kt)("strong",{parentName:"p"},"quickfixj")," library to parse a fix message within a query definition."),(0,r.kt)("h2",{id:"killserver-script"},"killServer script"),(0,r.kt)("p",null,"This script reads the ",(0,r.kt)("strong",{parentName:"p"},"$GC/processes.xml")," file to determine which processes to kill. It will prompt for confirmation (",(0,r.kt)("inlineCode",{parentName:"p"},"Are you sure you want to kill server? (y/n):"),"), unless you specify ",(0,r.kt)("inlineCode",{parentName:"p"},"--force"),"."),(0,r.kt)("h3",{id:"syntax-5"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"killServer [--hostname <[hosts names]>] [--force]\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-s   HOSTNAME ","[HOSTNAME ...]"),(0,r.kt)("td",{parentName:"tr",align:null},"--hostname HOSTNAME HOSTNAME   ","[HOSTNAME ...]"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},'Where the application is running  on more than one node, this identifies the node where you want to kill the server (so you can kill a server on a different node). Specify the Host Name, Host Names or "cluster" for all hosts'),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f"),(0,r.kt)("td",{parentName:"tr",align:null},"--force"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"forcefully kills a process (using kill -9)"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"--all"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"kills all processes, including   GENESIS_CLUSTER"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-c"),(0,r.kt)("td",{parentName:"tr",align:null},"--cluster"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"kills the server on all the nodes in the cluster"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("h2",{id:"dbmon-script"},"DbMon script"),(0,r.kt)("p",null,"This script enables you to navigate through the database tables from the command line."),(0,r.kt)("p",null,"Once inside ",(0,r.kt)("inlineCode",{parentName:"p"},"DbMon"),", you can run the command 'help', which shows all the available DbMon commands.\nTo get help on a specific command, run ",(0,r.kt)("inlineCode",{parentName:"p"},"help _command_"),"."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"DbMon --quietMode")," performs database changes without triggering real-time updates in the update queue layer."),(0,r.kt)("h3",{id:"syntax-6"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"DbMon\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"==================================\n\nDatabase Monitor\n\nEnter 'help' for a list of commands\n\n==================================\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Command"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"autoIncrementNumber"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<field_name>")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"clear"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"clears the current context")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"count"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"counts the rows in the table")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"delete"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"deletes the current row")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"deleteWhere"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<condition>")),(0,r.kt)("td",{parentName:"tr",align:null},"deletes all matching rows in the selected table")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"displayFields"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<field_names>")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"distinct"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<condition> [-where <limiting_condition>]")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"find"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<key_name>")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"first"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<key_name>")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"forceAutoIncrementNumber"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<field_name> <sequence_number>")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"forceSequenceNumber"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<sequence_name> <sequence_number>")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"help"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"lists all commands")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"insert"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"inserts the current row")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"last"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<key_name>")),(0,r.kt)("td",{parentName:"tr",align:null},"gets the last record by key")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"listAll"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<key_name> <num_key_fields> <max_records>")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"next"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<key_name>")),(0,r.kt)("td",{parentName:"tr",align:null},"gets the next record by key")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"set"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<field_name> <field_value>")),(0,r.kt)("td",{parentName:"tr",align:null},"sets a field")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"unset"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"sets a field to ",(0,r.kt)("inlineCode",{parentName:"td"},"null"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"update"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<key_name>")),(0,r.kt)("td",{parentName:"tr",align:null},"updates the current row by key")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"updateWhere"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<condition> <assignments>")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"writeMode"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"enables write mode")))),(0,r.kt)("h2",{id:"sendit-script"},"SendIt script"),(0,r.kt)("p",null,"To send data into the database, use the ",(0,r.kt)("inlineCode",{parentName:"p"},"SendIt")," command."),(0,r.kt)("h3",{id:"syntax-7"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"SendIt -t <table name> -f <file name>\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-a"),(0,r.kt)("td",{parentName:"tr",align:null},"--all"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"import all the tables from all the csv files to the database"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-d"),(0,r.kt)("td",{parentName:"tr",align:null},"--delete"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"perform delete operations on all records"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f"),(0,r.kt)("td",{parentName:"tr",align:null},"--file ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"name of the csv file where table is imported"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-h"),(0,r.kt)("td",{parentName:"tr",align:null},"--help"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"show usage   information"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-m"),(0,r.kt)("td",{parentName:"tr",align:null},"--modify ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"key name used to find original record"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-mf"),(0,r.kt)("td",{parentName:"tr",align:null},"--modifyFields ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"specifies fields to modify"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-quiet"),(0,r.kt)("td",{parentName:"tr",align:null},"--quietMode"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"make database changes without triggering real-time updates in update queue layer"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-r"),(0,r.kt)("td",{parentName:"tr",align:null},"--recover"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"perform recover operations on all records; this is a special operation meant to preserve the original timestamps; ",(0,r.kt)("strong",{parentName:"td"},"use with caution"),". Only use this when you want to restore a system after completely erasing the database tables. You must use only untouched files from a real back-up of the original dataset. There are no other circumstances in which you should use this option. Ever"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-t"),(0,r.kt)("td",{parentName:"tr",align:null},"--table ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"the name of the table to import to the database"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-v"),(0,r.kt)("td",{parentName:"tr",align:null},"--verbose"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"log every error line to output"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"SendIt -t FUND -f FUND\n")),(0,r.kt)("p",null,"This reads the FUND.csv file in the local directory and insert the data from the file into the FUND table."),(0,r.kt)("p",null,"To modify records you, need to specify the key that will be used to identify the original record from the each row in the csv file. If you want to modify a key field, you need to ensure the lookup key does not use this field; for example, you can't change an ID in the file and then modify on _BY_ID key."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"SendIt -t FUND -m FUND_BY_ID\n")),(0,r.kt)("p",null,"Modify fields (",(0,r.kt)("inlineCode",{parentName:"p"},"-mf"),") is a special parameter that can be added to ",(0,r.kt)("inlineCode",{parentName:"p"},"-m")," operations. SendTable will only attempt to modify the record fields specified in this comma-separated list parameter."),(0,r.kt)("p",null,"To delete records, specify ",(0,r.kt)("inlineCode",{parentName:"p"},"-d")," (or ",(0,r.kt)("inlineCode",{parentName:"p"},"--delete"),")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"SendIt -t FUND -d\n")),(0,r.kt)("p",null,"If no file parameter is specified, ",(0,r.kt)("inlineCode",{parentName:"p"},".csv")," is assumed and read from the local directory."),(0,r.kt)("p",null,"Verbose mode will additionally output line-by-line operation outcome, and a final summary of error lines to be corrected and resubmitted. This makes the script useful for scheduled or automated jobs (e.g. daily data loads)."),(0,r.kt)("h2",{id:"dumpit-script"},"DumpIt script"),(0,r.kt)("p",null,"To copy data from a Genesis database, use the 'DumpIt' command."),(0,r.kt)("h3",{id:"syntax-8"},"Syntax"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-a"),(0,r.kt)("td",{parentName:"tr",align:null},"--all"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"exports all tables to csv"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f"),(0,r.kt)("td",{parentName:"tr",align:null},"--file ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"name of the csv file where table is exported"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"-fields ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},'space separated field list e.g. "FIRST_NAME LAST_NAME"'),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-h"),(0,r.kt)("td",{parentName:"tr",align:null},"--help"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"show usage information"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-s"),(0,r.kt)("td",{parentName:"tr",align:null},"--sql ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"name of the sql file where table is exported"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-t"),(0,r.kt)("td",{parentName:"tr",align:null},"--table ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"the name of the table to export to csv"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"-where ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"match criteria e,g, \"USER_NAME=='John'\""),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'DumpIt -t USER -where "USER_NAME==\'John\'" -fields "USER_NAME\n')),(0,r.kt)("p",null,"This copies the data in the FUND table to FUND.csv."),(0,r.kt)("p",null,"Another example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'DumpIt -t FUND -f FUND -fields "FUND_ID NAME" -where "NAME == \'FUND_FUND\' && YEARS_IN_SERVICE >= 10"\n')),(0,r.kt)("p",null,'This copies the FUND_ID and NAME fields of every record that has "FUND_FUND" for a name, and ten or more years in service.'),(0,r.kt)("p",null,"If you want to dump all the tables in the database, here is an example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"DumpIt --all\n")),(0,r.kt)("p",null,"This copies all tables in the system, creating one .csv file for each table in the database. The files are saved in the current directory. It is useful for taking a back-up of the current system database."),(0,r.kt)("p",null,"Additionally, you can just run ",(0,r.kt)("inlineCode",{parentName:"p"},"DumpIt")," without any arguments to enter interactive mode."),(0,r.kt)("h2",{id:"renamefields-script"},"RenameFields script"),(0,r.kt)("p",null,"This script is used to rename a field name in a database without changing the dictionary or config files."),(0,r.kt)("h3",{id:"syntax-9"},"Syntax"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"RenameFields")," script takes two arguments; both of which are mandatory:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"RenameFields [-i <[current name of field]>] [-o  <[new name of field]>]\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-i"),(0,r.kt)("td",{parentName:"tr",align:null},"--input"),(0,r.kt)("td",{parentName:"tr",align:null},"yes"),(0,r.kt)("td",{parentName:"tr",align:null},"name of field that you want to change"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-o"),(0,r.kt)("td",{parentName:"tr",align:null},"--output"),(0,r.kt)("td",{parentName:"tr",align:null},"yes"),(0,r.kt)("td",{parentName:"tr",align:null},"name you want the field to be changed to"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"--input")," argument represents the name of the field you would like to change. The argument must be an existing field name in the database.\nThe ",(0,r.kt)("inlineCode",{parentName:"p"},"--output")," argument represents the name of the field you would like to change to. The argument must also be an existing field name in the database.\nBoth arguments must also be of the same type.\nIf both arguments are in the same table, it would result in the ",(0,r.kt)("inlineCode",{parentName:"p"},"--output")," field being deleted.\nAll changes using ",(0,r.kt)("inlineCode",{parentName:"p"},"RenameFields")," can be changed back to the original database schema by using the command ",(0,r.kt)("inlineCode",{parentName:"p"},"remap --commit"),"."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"RenameFields -i SYMBOL -o TRADE_ID\n")),(0,r.kt)("p",null,"This changes the name of SYMBOL field to TRADE_ID.     "),(0,r.kt)("p",null,"Another example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"RenameFields --input FIRST_NAME --output FNAME \n")),(0,r.kt)("p",null,"This changes the name of the field FIRST_NAME to FNAME"),(0,r.kt)("p",null,"Invalid example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"RenameFields -i PRICE -o FIRST_NAME\n")),(0,r.kt)("p",null,"This would result in an error as PRICE is of type DOUBLE while FIRST_NAME is of type STRING."),(0,r.kt)("h2",{id:"loglevel-script"},"LogLevel script"),(0,r.kt)("p",null,"To dynamically change the logging levels on any Genesis process, use the LogLevel command."),(0,r.kt)("h3",{id:"syntax-10"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"LogLevel -p <process-name> -l <log level> -t <time> [-optional params] -c <class-name> -DATADUMP_ON -DATADUMP_OFF\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-c"),(0,r.kt)("td",{parentName:"tr",align:null},"--class ",(0,r.kt)("inlineCode",{parentName:"td"},"<class name>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"changes log level on the defined class"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"-DATADUMP_NACK_OFF"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"changes log level to INFO for Genesis messages"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"-DATADUMP_NACK_ON"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"changes log level to TRACE and captures only _NACK messages from Genesis messages"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"-DATADUMP_OFF"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"changes the log level to info for Genesis messages"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"-DATADUMP_ON"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"changes the log level to trace for Genesis messages"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-h"),(0,r.kt)("td",{parentName:"tr",align:null},"--help"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"show usage information"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-l"),(0,r.kt)("td",{parentName:"tr",align:null},"--level ",(0,r.kt)("inlineCode",{parentName:"td"},"<log level>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"log level - if log level is not correct it will be set automatically to   DEBUG level"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-p ",(0,r.kt)("em",{parentName:"td"},"process-name"),",..,",(0,r.kt)("em",{parentName:"td"},"process-name")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"attaches processes to the command"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-r ",(0,r.kt)("em",{parentName:"td"},"process-name"),",..,",(0,r.kt)("em",{parentName:"td"},"process-name"),"`"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"remove processes"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"-STATUSDUMP_OFF"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"changes the log level to info for status updates"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"-STATUSDUMP_ON"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"changes the log level to trace for status updates"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-t ",(0,r.kt)("inlineCode",{parentName:"td"},"<time>")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"duration of log level change in min/sec Eg: 1m, 1000s"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("h2",{id:"mon-script"},"mon script"),(0,r.kt)("p",null,"This script shows the status of the overall system, so you can see if the server is up or not."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"***************************************************************************\n\n                                GENESIS Monitor\n\n                            Version:  GENESIS 5.0.0.0\n\n***************************************************************************\n\n\n\nStart: 2021-08-22 12:46:48                                  Uptime: 5 hours\n\nDate:  20121-08-22 17:47:10                               Cluster status: OK\n\n\n\nPID     Process Name                  Port        Status         CPU       Memory\n\n==================================================================================\n\n9480    AUTH_CONSOLIDATOR             8006        RUNNING        0.30      1.60\n\n9392    AUTH_DATASERVER               8002        RUNNING        0.30      1.70\n\n9359    AUTH_MANAGER                  8001        RUNNING        0.30      1.60\n\n9419    AUTH_PERMS                    8003        RUNNING        0.30      1.80\n")),(0,r.kt)("h3",{id:"syntax-11"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"mon [-v | -c | -a] polling_interval\n")),(0,r.kt)("p",null,"Options"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-h"),(0,r.kt)("td",{parentName:"tr",align:null},"--help"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"show this help message and exit"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-v"),(0,r.kt)("td",{parentName:"tr",align:null},"--version"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Shows installed products versions."),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-c"),(0,r.kt)("td",{parentName:"tr",align:null},"--cfg"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Shows the config files used by each process."),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-a"),(0,r.kt)("td",{parentName:"tr",align:null},"--all"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Shows all information."),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("h2",{id:"droptable"},"DropTable"),(0,r.kt)("p",null,"To remove database tables and all corresponding records instantly, use the ",(0,r.kt)("inlineCode",{parentName:"p"},"DropTable")," command."),(0,r.kt)("h3",{id:"syntax-12"},"Syntax"),(0,r.kt)("p",null,"The command takes a flag of ",(0,r.kt)("inlineCode",{parentName:"p"},"-t"),", followed by a list of space-separated table names, for example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"DropTable -t TABLE_NAME1 TABLE_NAME2 TABLE_NAME3\n")),(0,r.kt)("p",null,"The command will ask you to confirm the removal of each table."),(0,r.kt)("h2",{id:"populateholidays"},"PopulateHolidays"),(0,r.kt)("p",null,"This script populates the Holidays table with holidays, based on a specific year(s), country(ies) and region(s)."),(0,r.kt)("h3",{id:"syntax-13"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"PopulateHolidays\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-c"),(0,r.kt)("td",{parentName:"tr",align:null},"--country ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"the country name to search for holidays"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-h"),(0,r.kt)("td",{parentName:"tr",align:null},"--help"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"show usage information"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-r"),(0,r.kt)("td",{parentName:"tr",align:null},"--region ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"the region name to search for holidays"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-y"),(0,r.kt)("td",{parentName:"tr",align:null},"--year ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"the year of holidays"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("p",null,"For example: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"PopulateHolidays -y 2020,2021 -c BR,GB -r rj,en\n")),(0,r.kt)("h2",{id:"countrecords"},"CountRecords"),(0,r.kt)("p",null,"This counts the number of records in the database, grouped by table, and prints to screen."),(0,r.kt)("h3",{id:"syntax-14"},"Syntax"),(0,r.kt)("p",null,"By default, the command provides the record count for each table defined in the dictionary. If you only want a count for specific tables, you can specify a space-separated list of those tables."),(0,r.kt)("p",null,"This example gives a record count for all tables:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"CountRecords\n")),(0,r.kt)("p",null,"This example gives a record count for two specific Tables:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"CountRecords TABLE_NAME1 TABLE_NAME2 ...\n")),(0,r.kt)("h2",{id:"migratealiases"},"MigrateAliases"),(0,r.kt)("p",null,"This migrates the Genesis alias store from database storage to file storage and vice versa."),(0,r.kt)("h3",{id:"syntax-15"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MigrateAliases FILE\n\nMigrateAliases DATABASE\n")),(0,r.kt)("p",null,"Aerospike and FDB implementations use internal aliases for fields and tables. Migrating these aliases from database to a file will help to debug problems in the data storage."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If you are running Genesis on a single node, use a file store "),(0,r.kt)("li",{parentName:"ul"},"If you are running Genesis on more than one node, use database mode .")),(0,r.kt)("p",null,'The "remap" operation will update the alias store, so if you are running a Genesis cluster it is better to use a database storage mode, as it is less error-prone and you won\'t have to copy the alias storage file to the remaining nodes manually.'),(0,r.kt)("h2",{id:"migratedictionary"},"MigrateDictionary"),(0,r.kt)("p",null,"This migrates the Genesis dictionary from the Database Dictionary Store to the File Dictionary Store storage and vice versa."),(0,r.kt)("h3",{id:"syntax-16"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"MigrateDictionary\n")),(0,r.kt)("p",null,"The script uses the system definition file to get the ",(0,r.kt)("inlineCode",{parentName:"p"},"DictionarySource")," property."),(0,r.kt)("p",null,"If the property is ",(0,r.kt)("inlineCode",{parentName:"p"},"DB"),", the server uses a Database Dictionary Store), then the ",(0,r.kt)("inlineCode",{parentName:"p"},"MigrateDictionary")," script saves a dictionary to a file."),(0,r.kt)("p",null,"If the ",(0,r.kt)("inlineCode",{parentName:"p"},"DictionarySource")," is ",(0,r.kt)("inlineCode",{parentName:"p"},"FILE")," (the server uses a File Dictionary Store), then the dictionary is saved to a database. The target database type - ",(0,r.kt)("inlineCode",{parentName:"p"},"DbLayer")," - is retrieved from the system definitions file."),(0,r.kt)("p",null,"Here is a recommendation:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use a file store (set by default) if you are running Genesis in a single node"),(0,r.kt)("li",{parentName:"ul"},"Use database store if you are running Genesis in more than one node")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"remap")," operation will update the dictionary, so if you are running a Genesis cluster, it is better to use a Database Dictionary Store, as it is less error-prone and the user won't have to copy the dictionary file to the remaining nodes manually."),(0,r.kt)("p",null,"It is potentially dangerous to switch the ",(0,r.kt)("inlineCode",{parentName:"p"},"DictionarySource")," property. If you run ",(0,r.kt)("inlineCode",{parentName:"p"},"remap")," (which modifies the  dictionary) after ",(0,r.kt)("inlineCode",{parentName:"p"},"MigrateDictionary")," and before switching the ",(0,r.kt)("inlineCode",{parentName:"p"},"DictionarySource")," property, the file store and database store could contain different dictionaries and it is not safe to switch between them."),(0,r.kt)("h2",{id:"getnextsequencenumbers"},"GetNextSequenceNumbers"),(0,r.kt)("p",null,"This finds all the dictionary sequences and prints the next sequence number for each one of them. It displays the results on screen in csv format, so it is easy to redirect the output and reuse it with the ",(0,r.kt)("inlineCode",{parentName:"p"},"SetSequence")," script (see below)."),(0,r.kt)("h3",{id:"syntax-17"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"GetNextSequenceNumbers\n")),(0,r.kt)("h2",{id:"getsequencecount"},"GetSequenceCount"),(0,r.kt)("p",null,"This gets the current sequence number for all the sequences in the system. The values can be printed on screen or written to a file so they can be reused by the ",(0,r.kt)("inlineCode",{parentName:"p"},"SetSequence")," script (see below)."),(0,r.kt)("h3",{id:"syntax-18"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"GetSequenceCount\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f"),(0,r.kt)("td",{parentName:"tr",align:null},"--file ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-h"),(0,r.kt)("td",{parentName:"tr",align:null},"--help"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"show usage information"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-p"),(0,r.kt)("td",{parentName:"tr",align:null},"--print"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("h2",{id:"getautoincrementcount"},"GetAutoIncrementCount"),(0,r.kt)("p",null,"This works similarly to ",(0,r.kt)("inlineCode",{parentName:"p"},"GetSequenceCount"),", but for auto increment INT values defined in dictionaries."),(0,r.kt)("h3",{id:"syntax-19"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"GetAutoIncrementCount\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f"),(0,r.kt)("td",{parentName:"tr",align:null},"--file ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-h"),(0,r.kt)("td",{parentName:"tr",align:null},"--help"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"show usage information"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-p"),(0,r.kt)("td",{parentName:"tr",align:null},"--print"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("h2",{id:"setsequence"},"SetSequence"),(0,r.kt)("p",null,'This enables you to change a sequence number, or to do a bulk change for all the sequence in a ".csv" file. In mpst cases, this will be one that you have exported previously using either ',(0,r.kt)("inlineCode",{parentName:"p"},"GetNextSequenceNumbers")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"GetSequenceCount"),"."),(0,r.kt)("h3",{id:"syntax-20"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"SetSequence\n")),(0,r.kt)("p",null,"Options: "),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f"),(0,r.kt)("td",{parentName:"tr",align:null},"--file ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Name of csv file for batch sequence/value pairs to be read from (overrides sequence and value option)"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-h"),(0,r.kt)("td",{parentName:"tr",align:null},"--help"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-s"),(0,r.kt)("td",{parentName:"tr",align:null},"--sequence ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Two Character ID for the sequence (if setting individual value)"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-v"),(0,r.kt)("td",{parentName:"tr",align:null},"--value ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"New integer value to be set (if setting individual value)"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("h2",{id:"setautoincrement"},"SetAutoIncrement"),(0,r.kt)("p",null,"This works in a smilar way to ",(0,r.kt)("inlineCode",{parentName:"p"},"SetSequence")," but for auto increment INT values."),(0,r.kt)("h3",{id:"syntax-21"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"SetAutoIncrement\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f"),(0,r.kt)("td",{parentName:"tr",align:null},"--file ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Name of csv file for batch sequence/value pairs to be read from (overrides sequence and value option)"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-h"),(0,r.kt)("td",{parentName:"tr",align:null},"--help"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-s"),(0,r.kt)("td",{parentName:"tr",align:null},"--field ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-t"),(0,r.kt)("td",{parentName:"tr",align:null},"--table ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-v"),(0,r.kt)("td",{parentName:"tr",align:null},"--value ",(0,r.kt)("inlineCode",{parentName:"td"},"<arg>")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("h2",{id:"genesisrun"},"GenesisRun"),(0,r.kt)("p",null,"This is a Python script wrapper for Genesis scripts."),(0,r.kt)("p",null,"'GenesisRun` will attempt to find a script to execute within the Genesis folder structure (site-specific or scripts)."),(0,r.kt)("p",null,"There are two environment variables that can be used to configure how much RAM the scripts will use:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SCRIPT_MAX_HEAP"),(0,r.kt)("li",{parentName:"ul"},"REMAP_MAX_HEAP")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"GenesisRun")," can execute code in two different modes: Groovy script and GPAL Kotlin script. ",(0,r.kt)("strong",{parentName:"p"},"GenesisRun")," builds the necessary classpath, so you don't need to build it in each script."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Groovy script: GenesisRun SetLogLevelScript.groovy"),(0,r.kt)("li",{parentName:"ul"},"GPAL Kotlin script: GenesisRun customPurger-script.kts")),(0,r.kt)("p",null,"There is a separate wrapper, ",(0,r.kt)("inlineCode",{parentName:"p"},"JvmRun")," for Java main class scripts."),(0,r.kt)("h2",{id:"dictionarybuilder"},"DictionaryBuilder"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"DictionaryBuilder")," connects to an RDBMS, parses schemas and uses this information to generate a Genesis dictionary. It supports MSSQL and Oracle databases."),(0,r.kt)("p",null,"The script accepts a series of arguments to establish a connection to the database (e.g. user, password, host, etc) and some specific behaviour (e.g. product name, single dictionary file or composed, etc)."),(0,r.kt)("h3",{id:"syntax-22"},"Syntax"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Short"),(0,r.kt)("th",{parentName:"tr",align:null},"Long Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-c"),(0,r.kt)("td",{parentName:"tr",align:null},"--comments"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Include original SQL in Comments defaults to true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-d"),(0,r.kt)("td",{parentName:"tr",align:null},"--databaseName=\\<databaseName",">"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Database name")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-h"),(0,r.kt)("td",{parentName:"tr",align:null},"--help"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Show this help message and exit.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-H"),(0,r.kt)("td",{parentName:"tr",align:null},"--host=\\<hostname",">"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The database hostname.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-i"),(0,r.kt)("td",{parentName:"tr",align:null},"--tableid=\\<tableIdStart",">"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Table Id start number, defaults = 0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-l"),(0,r.kt)("td",{parentName:"tr",align:null},"--tables=\\<tables",">","[",",\\<tables",">","...","]"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"table list to include, default is all tables")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-o"),(0,r.kt)("td",{parentName:"tr",align:null},"--output=\\<outputDirectory",">"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies the output directory for the dictionary files. If the directory does not exist, it will be created\xa0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-p"),(0,r.kt)("td",{parentName:"tr",align:null},"--port=\\<port",">"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The database port")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-P"),(0,r.kt)("td",{parentName:"tr",align:null},"--password","[","=\\<password",">","]"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The database password for the previous username. If no password is provided, the password will be requested interactively")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-R"),(0,r.kt)("td",{parentName:"tr",align:null},"--product=\\<productName",">"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Represents the product name and affects the output file")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-s"),(0,r.kt)("td",{parentName:"tr",align:null},"--sid=\\<oracleSidId",">"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"The Oracle System ID if using oracle, or the schema ID if using MSSQL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-t"),(0,r.kt)("td",{parentName:"tr",align:null},"--type=\\<databaseType",">"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Database type, valid values: MSSQL, Oracle, Postgres")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-U"),(0,r.kt)("td",{parentName:"tr",align:null},"--username=\\<username",">"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Username")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-V"),(0,r.kt)("td",{parentName:"tr",align:null},"--version"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Print version information and exit")))),(0,r.kt)("p",null,"You can use double-dash notation for any argument."),(0,r.kt)("h3",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"DictionaryBuilder -u TAS -p my_password -db TAS -port 1433 -h db2.ad.genesis.global -t mssql -product tas -o dictionary\n")),(0,r.kt)("h3",{id:"how-the-script-behaves"},"How the script behaves"),(0,r.kt)("p",null,"The script tries to connect to the RDBMS currently specified in the arguments. It generates Genesis dictionary fields for column names and their types, and it creates tables with their fields and keys."),(0,r.kt)("p",null,"There are a few considerations you should be aware of:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If a column name (e.g. DATE) is found in several tables, and it always has the same type, only one field will be specified in the dictionary. However, if the same column name is found in different tables with different types, a new field will be created for each type, keeping the column name and adding the table name (e.g. CALENDAR) in the following fashion: DATE_IN_CALENDAR. The script will output this event on screen so you can fix the name and/or type it manually later on."),(0,r.kt)("li",{parentName:"ul"},"The types are mapped from ",(0,r.kt)("a",{parentName:"li",href:"http://docs.oracle.com/javase/8/docs/api/java/sql/Types.html",title:"http://docs.oracle.com/javase/8/docs/api/java/sql/Types.html"},"http://docs.oracle.com/javase/8/docs/api/java/sql/Types.html")," to Genesis dictionary types. Each database can have its own data types, and the JDBC may interpret them differently. For example, in an early test, TIMESTAMP(8) in an Oracle database was interpreted as type OTHER in java.sql.Types. Therefore, this tool is not 100% accurate; you must check the results for correctness."),(0,r.kt)("li",{parentName:"ul"},"If there is no mapping available for the ",(0,r.kt)("inlineCode",{parentName:"li"},"java.sql.Type")," retrieved by the column metadata query, it will be mapped by default to the Genesis dictionary type ",(0,r.kt)("inlineCode",{parentName:"li"},"STRING"),". This event will be shown on standard output too, so you can know that there is an uncommon type that you should take care of."),(0,r.kt)("li",{parentName:"ul"},"Every time a table is successfully parsed, the script will give feedback: ",(0,r.kt)("inlineCode",{parentName:"li"},"TABLE USERS complete"),"."),(0,r.kt)("li",{parentName:"ul"},"Views are not parsed.")),(0,r.kt)("h4",{id:"keys-and-indexes"},"Keys and indexes"),(0,r.kt)("p",null,"Primary keys will be parsed as primary keys in Genesis, whether they are single-column-based or multiple-column-based.\nOnly unique indexes will be parsed as secondary keys.\nThere is no concept of foreign keys in Genesis, so these are ignored.\nStrings parsed in lower-camel-case format (camelCase) will be transformed to upper-underscore format (UPPER_UNDERSCORE)."),(0,r.kt)("h3",{id:"type-mapping"},"Type mapping"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Genesis Type"),(0,r.kt)("th",{parentName:"tr",align:null},"JDBC Types"),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},"CHAR"),(0,r.kt)("td",{parentName:"tr",align:null},"LONGNVARCHAR"),(0,r.kt)("td",{parentName:"tr",align:null},"LONGVARCHAR"),(0,r.kt)("td",{parentName:"tr",align:null},"NCHAR")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"LONG"),(0,r.kt)("td",{parentName:"tr",align:null},"BIGINT"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RAW"),(0,r.kt)("td",{parentName:"tr",align:null},"BINARY"),(0,r.kt)("td",{parentName:"tr",align:null},"LONGVARBINARY"),(0,r.kt)("td",{parentName:"tr",align:null},"VARBINARY"),(0,r.kt)("td",{parentName:"tr",align:null},"BLOB")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"INT"),(0,r.kt)("td",{parentName:"tr",align:null},"INTEGER"),(0,r.kt)("td",{parentName:"tr",align:null},"SMALLINT"),(0,r.kt)("td",{parentName:"tr",align:null},"TINYINT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DOUBLE"),(0,r.kt)("td",{parentName:"tr",align:null},"FLOAT"),(0,r.kt)("td",{parentName:"tr",align:null},"DOUBLE"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BIGDECIMAL"),(0,r.kt)("td",{parentName:"tr",align:null},"DECIMAL"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DATETIME"),(0,r.kt)("td",{parentName:"tr",align:null},"TIMESTAMP"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BOOLEAN"),(0,r.kt)("td",{parentName:"tr",align:null},"BOOLEAN"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DATE"),(0,r.kt)("td",{parentName:"tr",align:null},"DATE"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"TIME"),(0,r.kt)("td",{parentName:"tr",align:null},"TIME"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h2",{id:"reconciledatabasesync"},"ReconcileDatabaseSync"),(0,r.kt)("p",null,"This is used to check if there are differences between a local DB and a remote DB with common dictionary tables.\nTypically, this would be used to reconcile tables that are being kept in sync by the GENESIS_SYNC process."),(0,r.kt)("p",null,"The local DB's details (host, port, user, etc) are read from the system definition file in the local environment. The remote DB's details are specified as options to the command."),(0,r.kt)("p",null,"The tables to check are specified in the ",(0,r.kt)("strong",{parentName:"p"},"genesis-sync-definition.xml")," file. Here is a simple example that specifies two tables:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<sync>\n    <tables>\n        <table name="TRADE"/>\n        <table name="ORDER"/>\n    </tables>\n</sync>\n')),(0,r.kt)("p",null,'If there are any differences found between the local and remote tables, then the result will be output to a text file. The location of this text file will be displayed on screen.\nThere are 3 categories in the output: "Records Missing From Local", "Records Missing From Remote" and "Records Which Differ Between Remote and Local".'),(0,r.kt)("p",null,"Records are compared using the primary key field. The TIMESTAMP and RECORD_ID fields are extremely likely to differ,\nbecause the tables being compared are in separate databases. Therefore, these fields are not compared."),(0,r.kt)("h3",{id:"options"},"Options"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted Values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-d"),(0,r.kt)("td",{parentName:"tr",align:null},"--dblayer"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},"Database Layer type"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes: FDB, FDB2, AEROSPIKE, SQL, SIMPLE")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f"),(0,r.kt)("td",{parentName:"tr",align:null},"--fdb"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"FDB cluster file name"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-H"),(0,r.kt)("td",{parentName:"tr",align:null},"--host"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"Remote DB hostname"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-P"),(0,r.kt)("td",{parentName:"tr",align:null},"--port"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"Remote DB port"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes: Number > 0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-u"),(0,r.kt)("td",{parentName:"tr",align:null},"--username"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"DB user username"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-p"),(0,r.kt)("td",{parentName:"tr",align:null},"--password"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"DB user password"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-s"),(0,r.kt)("td",{parentName:"tr",align:null},"--nullstring"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"Evaluate null and empty strings as equal"),(0,r.kt)("td",{parentName:"tr",align:null},"No value required")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-n"),(0,r.kt)("td",{parentName:"tr",align:null},"--numdays"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"Only compare records with timestamps between now and the number of days specified. If either DB has matching records outside this timestamp range, this will not be flagged as a reconciliation difference"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes: Number > 0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-i"),(0,r.kt)("td",{parentName:"tr",align:null},"--ignorefields"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},'Comma-separated list of additional fields to ignore ("RECORD_ID" and "TIMESTAMP" are always ignored)'),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-h"),(0,r.kt)("td",{parentName:"tr",align:null},"--help"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"Show usage information"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("h3",{id:"examples"},"Examples"),(0,r.kt)("p",null,"This is a simple run with a remote postgres DB:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'ReconcileDatabaseSync -d SQL -H "jdbc:postgresql://dbhost:5432/" -u dbuser -p dbpass\n')),(0,r.kt)("p",null,"This example runs with a remote postgres DB. it evaluates null and empty strings as equal; it compares records up to 2 days ago, and it ignores the field STATUS."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'ReconcileDatabaseSync -d SQL -H "jdbc:postgresql://dbhost:5432/" -u dbuser -p dbpass -s -n 2 -i STATUS\n')),(0,r.kt)("h2",{id:"purgetables"},"PurgeTables"),(0,r.kt)("p",null,"This enables you to define the data-retention policy. Data will be removed from the database where the defined criteria are fulfilled."),(0,r.kt)("p",null,"Example: For the TRADE table, we could decide to keep allocated trades for 60 days, and 30 days for the rest."),(0,r.kt)("p",null,"To use this tool, you must have an ",(0,r.kt)("em",{parentName:"p"},"application"),(0,r.kt)("strong",{parentName:"p"},"-purger.kts* file in the application's config folder. Invoking the "),"PurgeTables",(0,r.kt)("strong",{parentName:"p"}," command will pick up all  files that are found in the "),"$GENESIS_HOME/generated/cfg/** directory."),(0,r.kt)("p",null,"In order to enable syntax highlighting and autocompletion for purger files, you must add ",(0,r.kt)("strong",{parentName:"p"},"genesis-environment")," as a dependency of your application's ",(0,r.kt)("strong",{parentName:"p"},"-config")," module. See simple examples below for purger definitions:"),(0,r.kt)("p",null,"A log file called ",(0,r.kt)("strong",{parentName:"p"},"purge_{",(0,r.kt)("em",{parentName:"strong"},"time_of_run"),"}")," will be created under the ",(0,r.kt)("strong",{parentName:"p"},"$GENESIS_HOME/runtime/logs/")," folder."),(0,r.kt)("p",null,"The functions and filters below give you different ways of purging data."),(0,r.kt)("h3",{id:"inject-repository"},"Inject repository"),(0,r.kt)("p",null,"You can inject any repository into the purger script; for example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},"purgers{\n    val userSessionRepo = inject<UserSessionRx2Repository>()\n}\n")),(0,r.kt)("h3",{id:"purge-by-date"},"Purge by date"),(0,r.kt)("p",null,"The purger supports purging based on days. You can specify the max age of record in terms of calendar days or business days.\nBusiness days disregard weekends and public holidays."),(0,r.kt)("p",null,"To use this you need to supply"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"a LONG or DATETIME field in the table to be used, or you can supply just table name and TIMESTAMP field of table will be used to calculate the age of the record."),(0,r.kt)("li",{parentName:"ul"},"Also max age of record, which indicates all the records older than these days will be purged"),(0,r.kt)("li",{parentName:"ul"},"Optional fields when you use business days: ",(0,r.kt)("inlineCode",{parentName:"li"},"country")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"region")," name.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},'purgers {\n // purge trades over 6 months old based on field TRADE_DATE\n daysPurger(TRADE.TRADE_DATE, 180)\n // purge trades over 6 months old based on field TIMESTAMP of table which will be used internally \n daysPurger(TRADE, 180)\n\n // purge prices older than 5 business days based on PRICE_DATETIME\n businessDaysPurger(PRICE.PRICE_DATETIME, 5)\n // purge prices older than 5 business days based on PRICE_DATETIME in country SPAIN\n businessDaysPurger(PRICE.PRICE_DATETIME, 5, "SPAIN")\n}\n')),(0,r.kt)("h3",{id:"purge-by-range"},"Purge by range:"),(0,r.kt)("p",null,"Range purger is similar to bulkPurger, but it performs efficient index range searches in database and speed up purger performance compared to bulkPurger."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You need to give index name of the table you want to purge data on"),(0,r.kt)("li",{parentName:"ul"},"Purger has special function called ",(0,r.kt)("inlineCode",{parentName:"li"},"whereRange")," which is used to filter based on index value")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},'import global.genesis.gen.dao.repository.UserSessionRx2Repository\npurgers {\n // Inject repo\n val userSessionRepo = inject<UserSessionRx2Repository>()\n\n // Range purger with whereRange\n rangePurger(USER_SESSION.BY_USER_NAME).whereRange("JohnDoe")\n\n // Combination of filters for maximum flexibility\n rangePurger(USER_SESSION.BY_USER_NAME)\n  .whereRange("JohnDoe")\n  .filterBusinessDays(maxDays = 5, country = "SPAIN", region = "NATIONAL", field = USER_SESSION.LAST_ACCESS_TIME)\n\n rangePurger(USER_SESSION.BY_USER_NAME)\n  .whereRange("JohnDoe")\n  .filterDays(maxDays = 5)\n\n // finally clause usage\n rangePurger(USER_SESSION.BY_USER_NAME)\n  .whereRange("JohnDoe")\n  .finally { userSession ->\n    println("Purged record: ${userSession.toGenesisSet()}")\n  }\n}\n')),(0,r.kt)("h3",{id:"purge-bulk-data"},"Purge bulk data:"),(0,r.kt)("p",null,"You can purge data of whole table by using"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},"bulkPurger(USER_SESSION)\n")),(0,r.kt)("p",null,"You can purge data of table based on some conditions"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},'purgers {\n// Purger that reads the whole user session every time it runs and deletes all sessions for JohnDoe\n bulkPurger(USER_SESSION).filter { it.userName == "JohnDoe" }\n// Purge USER_SESSION older than 8 business days in country India\n bulkPurger(USER_SESSION)\n  .filterBusinessDays(8, "INDIA")\n}\n')),(0,r.kt)("h3",{id:"filters"},"Filters"),(0,r.kt)("p",null,"Following filters are used in the examples explained above:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"whereRange"),": This filter can contain value of the table-index parameter or parameters if there are more than one field in the table-index. Parameter list can range from 1-10.\nIt filters the records based on the index parameter value/values"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"filter"),": filter based on predicate provided"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"filterBusinessDays"),": this method allows to purge data based on business date.\nYou need to provide:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"max age of record"),(0,r.kt)("li",{parentName:"ul"},"country name"),(0,r.kt)("li",{parentName:"ul"},'region which defaults to "NATIONAL"'),(0,r.kt)("li",{parentName:"ul"},"and optional LONG or DATETIME field of table you want to purge and if not specified TIMESTAMP field of table is used")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"filterDays"),": this method allows to purge data based on calendar date\nYou need to provide:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"max age of record"),(0,r.kt)("li",{parentName:"ul"},"and optional LONG or DATETIME field of table you want to purge and if not specified TIMESTAMP field of table is used")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"finally")," clause: It is run for every record that is purged and used to add some extra functionality if needed"),(0,r.kt)("h2",{id:"appgen"},"AppGen"),(0,r.kt)("p",null,"AppGen can be used to generate a fully working application from a dictionary file."),(0,r.kt)("p",null,"Usually when creating a application, you would start with a schema; you then build data servers, request servers and event handlers on top to create your application.  AppGen automates all this, and will generate the following new files:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Data server: ",(0,r.kt)("em",{parentName:"li"},"application"),(0,r.kt)("strong",{parentName:"li"},"-dataserver.kts")),(0,r.kt)("li",{parentName:"ul"},"Request server: ",(0,r.kt)("em",{parentName:"li"},"application"),(0,r.kt)("strong",{parentName:"li"},"-reqrep.kts")),(0,r.kt)("li",{parentName:"ul"},"Event handler: ",(0,r.kt)("em",{parentName:"li"},"application"),(0,r.kt)("strong",{parentName:"li"},"-eventhandler.kts")),(0,r.kt)("li",{parentName:"ul"},"Sytem processes: ",(0,r.kt)("em",{parentName:"li"},"application"),(0,r.kt)("strong",{parentName:"li"},"-processes.xml")),(0,r.kt)("li",{parentName:"ul"},"Service definitions: ",(0,r.kt)("em",{parentName:"li"},"application"),"**-service-definitions.xml")),(0,r.kt)("h3",{id:"data-server-and-request-server"},"Data server and request server"),(0,r.kt)("p",null,"One block will be generated for each table in the database, complete with metadata (all fields on the table) and a field block that returns all fields on the table.  For request servers, the inbound metadata will be based on the primary key."),(0,r.kt)("h3",{id:"event-handler"},"Event handler"),(0,r.kt)("p",null,"The file for the event handler contains insert, amend and delete transactions for every table in the database.  All transactions support validation and meta data. If a field is marked as a sequence in the dictionary (i.e. generated ID) then the field is not specified on the metadata for inserts, but it will be specified on modifies and deletes."),(0,r.kt)("p",null,"Deletes will have reduced metadata, as it is only necessary for the columns to satisfy the primary key to perform the delete."),(0,r.kt)("h3",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Argument"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument long name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Restricted Values"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-d"),(0,r.kt)("td",{parentName:"tr",align:null},"dictionary file name"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},"the name of the dictionary to read at startup"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-t"),(0,r.kt)("td",{parentName:"tr",align:null},"table name(s)"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"the table name(s) within the dictionary to read at startup. Multiple tables must be separated by spaces"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-p"),(0,r.kt)("td",{parentName:"tr",align:null},"port offset"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},"the port range to use when generating the services file"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-pn"),(0,r.kt)("td",{parentName:"tr",align:null},"product name"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},"the name of the product to create"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("h3",{id:"examples-1"},"Examples"),(0,r.kt)("p",null,"This example has no ",(0,r.kt)("inlineCode",{parentName:"p"},"-t")," option."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"AppGen -d tas-dictionary.xml -p 4000 -pn tas\n")),(0,r.kt)("p",null,"In this case, the dictionary to read is ",(0,r.kt)("inlineCode",{parentName:"p"},"tas-dictionary.xml"),", the port offset is ",(0,r.kt)("inlineCode",{parentName:"p"},"4000")," and the product name to generate is ",(0,r.kt)("inlineCode",{parentName:"p"},"tas"),".  Running this command results in the following structure being created:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"tas/\n    /bin\n    /cfg/tas-dataserver2.xml\n        /tas-fields-dictionary.kts\n        /tas-processes.xml\n        /tas-reqrep.xml\n        /tas-service-definitions.xml\n        /tas-system-definition.kts\n        /tas-tables-dictionary.kts\n    /scripts/tas-tnHandler.gy\n")),(0,r.kt)("p",null,"This example has a ",(0,r.kt)("inlineCode",{parentName:"p"},"-t")," option, which specifies that only the table ORDER USER should be read from the source dictionary."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"AppGen -d tas-dictionary.xml -t ORDER USER -p 4000 -pn tas\n")),(0,r.kt)("p",null,"The ORDER USER table will be appended to the files that were created in the tas folder."),(0,r.kt)("h2",{id:"ssltls-support"},"SSL/TLS Support"),(0,r.kt)("h3",{id:"generating-a-self-signed-keystore-and-respective-certificate-optional"},"Generating a self-signed keystore and respective certificate (optional)"),(0,r.kt)("p",null,"This step is only required if you are using a self-signed certificate due to the absence of one issued by a proper trusted root authority."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ keytool -genkey -keyalg RSA -keysize 2048 -alias selfsigned -storepass Password1233 -keystore keystore.jks -ext SAN=dns:genesisserv1,dns:genesisserv1.ad.genesis.global,dns:genesisserv2,dns:genesisserv2.ad.genesis.global,dns:genesisserv3,dns:genesisserv3.ad.genesis.global,dns:genesisserv4,dns:genesisserv4.ad.genesis.global,ip:193.144.16.43\n\nWhat is your first and last name?\n    [Unknown]:  Fred Bloggs\n\nWhat is the name of your organizational unit?\n    [Unknown]:  IT\n\nWhat is the name of your organization?\n    [Unknown]:  Genesis Global Technology Ltd\n\nWhat is the name of your City or Locality?\n    [Unknown]:  London\n\nWhat is the name of your State or Province?\n    [Unknown]:  Greater London\n\nWhat is the two-letter country code for this unit?\n    [Unknown]:  GB\n\nIs CN=Fred Bloggs, OU=IT, O=Genesis Global Technology Ltd, L=London, ST=Greater London, C=GB correct?\n    [no]:  yes\n\nEnter key password for <selfsigned>\n    (RETURN if same as keystore password):\n")),(0,r.kt)("p",null,'Assuming no problems with privileges, you will now have a certificate called "selfsigned" with a private key using the same password as the keystore password e.g. Password123.'),(0,r.kt)("p",null,"In our example, this certificate can be found at: /home/exmon/keystore.jks"),(0,r.kt)("p",null,"Please note, however, that this certificate should be stored in another directory outside the application."),(0,r.kt)("p",null,"The keystore (.jks) is, in a way, the private key to be used in the two-way authentication in the SSL protocol. As such, you need to use it to generate the certificate that has to be installed by the target computers, or to be loaded by the processes that the application intends to communicate with."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ keytool -export -alias mykey -file certificate.crt -keystore keystore.jks\n")),(0,r.kt)("h3",{id:"installing-tls-certificate-in-different-environments"},"Installing TLS certificate in different environments"),(0,r.kt)("h4",{id:"linux"},"Linux"),(0,r.kt)("p",null,"This varies according to the distribution being used. In Ubuntu:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ cp certificate.crt /usr/local/share/ca-certificates/\n\n$ sudo update-ca-certificates\n")),(0,r.kt)("h4",{id:"windows"},"Windows"),(0,r.kt)("p",null,"Right-click on certificate.crt and select 'Install Certificate'. On 'Place all certificates in the following store', select 'Trusted Root Certification Authorities'."),(0,r.kt)("h2",{id:"securing-genesis-processes"},"Securing Genesis processes"),(0,r.kt)("h3",{id:"setting-the-process-to-communication-via-ssltls"},"Setting the process to communication via SSL/TLS"),(0,r.kt)("p",null,"All Genesis modules are defined inside the service definition files:"),(0,r.kt)("p",null,"Syntax:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"~/run/<product>/cfg/<product>-service-definitions.xml\n")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"~/run/exmon/cfg/exmon-service-definitions.xml\n")),(0,r.kt)("p",null,"To enable a process to be set to communicate via SSL, set the ",(0,r.kt)("inlineCode",{parentName:"p"},"secure")," element to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<configuration>\n    <service host="localhost" name="EXMON_DATASERVER" port="8911" secure="true"/>\n</configuration>\n')),(0,r.kt)("h3",{id:"setting-the-tls-settings-for-all-processes-by-default"},"Setting the TLS settings for all processes by default"),(0,r.kt)("p",null,"Open the ",(0,r.kt)("strong",{parentName:"p"},"genesis-system-definitions.xml")," file and edit the values for ",(0,r.kt)("inlineCode",{parentName:"p"},"DefaultKeystoreLocation"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"DefaultKeystoreLocation")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"DefaultCertificate"),"."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!-- Required if the processes are to communicate through SSL --\x3e\n<Item name="DefaultKeystoreLocation" value="/home/exmon/keystore.jks" />\n<Item name="DefaultKeystorePassword" value="Password123" />\n<Item name="DefaultCertificate" value="/home/exmon/certificate.crt" />\n')),(0,r.kt)("p",null,"These will be used by all processes to communicate with encrypted processes or to accept connections if they are encrypted themselves."),(0,r.kt)("h3",{id:"setting-the-tls-settings-for-each-individual-process"},"Setting the TLS settings for each individual process"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"You can have different processes secured via different certificates, if required.")),(0,r.kt)("p",null,"This setting is used if the develop wants to override the defaults established above for a specific process."),(0,r.kt)("p",null,"Open the configuration file for the process (as defined in ",(0,r.kt)("inlineCode",{parentName:"p"},"<product>-processes.xml"),"). Make sure it has the following settings:-"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<authManager>\n    <settings>\n        <messaging>\n            <keyStoreLocation>\n                /home/poc/keystore.jks\n            </keyStoreLocation>\n            <keyStorePassword>\n                Password123\n            </keyStorePassword>\n        </messaging>\n    </settings>\n</authManager>\n")),(0,r.kt)("p",null,"Once the files have been saved, run ",(0,r.kt)("strong",{parentName:"p"},"genesisInstall"),". When the processes starts again, it will be secure."),(0,r.kt)("h3",{id:"gui"},"GUI"),(0,r.kt)("p",null,"To enable the GUI to connect securely, edit the ",(0,r.kt)("strong",{parentName:"p"},"%ProgramData%","\\","Genesis","\\","exmon","\\","Rel","\\","Config","\\","PrimaryServiceConfig.xml")," setting ",(0,r.kt)("inlineCode",{parentName:"p"},"encrypted")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,r.kt)("h4",{id:"example-1"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0"?>\n<primary_service xmlns:xsd="[http://www.w3.org/2001/XMLSchema](http://www.w3.org/2001/XMLSchema "http://www.w3.org/2001/XMLSchema")" xmlns:xsi="[http://www.w3.org/2001/XMLSchema-instance](http://www.w3.org/2001/XMLSchema-instance "http://www.w3.org/2001/XMLSchema-instance")">\n    <encrypted>true</encrypted>\n    <hosts>\n    <host name="genesisserv4.ad.genesis.global" port="8001" />\n    </hosts>\n</primary_service>\n')),(0,r.kt)("p",null,"Note: With encryption, if you are using a self-signed certificate, you must install the certificate.crt in the target machine's operating system as a trusted root CA."),(0,r.kt)("h3",{id:"web-front-end"},"Web front-end"),(0,r.kt)("p",null,"Install the ",(0,r.kt)("inlineCode",{parentName:"p"},"certificate.crt")," in the target machine's operating system as a trusted root CA. That is all you need to do."))}k.isMDXComponent=!0}}]);