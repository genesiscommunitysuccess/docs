"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[89479],{92102:function(e,n,i){i.r(n),i.d(n,{assets:function(){return N},contentTitle:function(){return d},default:function(){return T},frontMatter:function(){return o},metadata:function(){return r},toc:function(){return p}});var a=i(87462),t=i(63366),s=(i(67294),i(3905)),l=(i(61839),["components"]),o={title:"Views - basics",sidebar_label:"Views - basics",id:"views-basics",keywords:["database","views","basics"],tags:["database","views","basics"]},d=void 0,r={unversionedId:"database/fields-tables-views/views/views-basics",id:"database/fields-tables-views/views/views-basics",title:"Views - basics",description:"A view definition is made up of joins and fields.",source:"@site/docs/02_database/01_fields-tables-views/03_views/01_views-basics.md",sourceDirName:"02_database/01_fields-tables-views/03_views",slug:"/database/fields-tables-views/views/views-basics",permalink:"/next/database/fields-tables-views/views/views-basics",draft:!1,tags:[{label:"database",permalink:"/next/tags/database"},{label:"views",permalink:"/next/tags/views"},{label:"basics",permalink:"/next/tags/basics"}],version:"current",sidebarPosition:1,frontMatter:{title:"Views - basics",sidebar_label:"Views - basics",id:"views-basics",keywords:["database","views","basics"],tags:["database","views","basics"]},sidebar:"databaseSidebar",previous:{title:"Views - introduction",permalink:"/next/database/fields-tables-views/views/"},next:{title:"Views - advanced",permalink:"/next/database/fields-tables-views/views/views-advanced"}},N={},p=[{value:"Joins",id:"joins",level:2},{value:"Fields",id:"fields",level:2},{value:"Overriding a field name",id:"overriding-a-field-name",level:3}],u={toc:p};function T(e){var n=e.components,i=(0,t.Z)(e,l);return(0,s.kt)("wrapper",(0,a.Z)({},u,i,{components:n,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"A view definition is made up of ",(0,s.kt)("strong",{parentName:"p"},"joins")," and ",(0,s.kt)("strong",{parentName:"p"},"fields"),"."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Joins")," enable you to bring other related tables into a view and ",(0,s.kt)("strong",{parentName:"p"},"fields")," allow you to define which fields you would like to include in your view."),(0,s.kt)("h2",{id:"joins"},"Joins"),(0,s.kt)("p",null,"Joins enable you to bring other related tables into a view so we can serve up their fields in a single query row."),(0,s.kt)("p",null,"For example, you might want to join a ",(0,s.kt)("inlineCode",{parentName:"p"},"TRADE")," to an ",(0,s.kt)("inlineCode",{parentName:"p"},"INSTRUMENT")," in order to pull in ",(0,s.kt)("inlineCode",{parentName:"p"},"INSTRUMENT")," fields such as the ",(0,s.kt)("inlineCode",{parentName:"p"},"NAME")," or ",(0,s.kt)("inlineCode",{parentName:"p"},"CURRENCY")," to serve up to a grid."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},'views {\n\n  view("TRADE_VIEW", TRADE) {\n\n    joins {\n      joining(INSTRUMENT) {\n        on(TRADE.INSTRUMENT_ID to INSTRUMENT { INSTRUMENT_ID })\n      }\n    }\n\n    fields {\n      TRADE.allFields()\n\n      INSTRUMENT.NAME withPrefix INSTRUMENT\n      INSTRUMENT.CURRENCY_ID withAlias "CURRENCY"\n    }\n  }\n}\n')),(0,s.kt)("p",null,"You can define multiple joins onto any given table."),(0,s.kt)("p",null,"You can also add nested joins (join to a joined table), and so on..."),(0,s.kt)("p",null,"The following example shows three key things:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},"It joins the table ",(0,s.kt)("inlineCode",{parentName:"p"},"POSITION")," onto ",(0,s.kt)("inlineCode",{parentName:"p"},"ALT_INSTRUMENT_ID")," on a 2-field key. One of the join values (",(0,s.kt)("inlineCode",{parentName:"p"},"ALTERNATE_TYPE"),") uses a literal value as opposed to stemming from a field in ",(0,s.kt)("inlineCode",{parentName:"p"},"POSITION"),".")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},"There is also a nested join, from ",(0,s.kt)("inlineCode",{parentName:"p"},"ALT_INSTRUMENT_ID")," onto ",(0,s.kt)("inlineCode",{parentName:"p"},"INSTRUMENT_L1_PRICE"),".")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},"Finally, there is a join from ",(0,s.kt)("inlineCode",{parentName:"p"},"POSITION")," onto the ",(0,s.kt)("inlineCode",{parentName:"p"},"INSTRUMENT")," table."))),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},'\n    joins {\n      joining(ALT_INSTRUMENT_ID) {\n        on(POSITION.INSTRUMENT_ID to ALT_INSTRUMENT_ID { INSTRUMENT_ID })\n          .and(ALT_INSTRUMENT_ID { ALTERNATE_TYPE } to "REFINITIV")                            \n\n          .joining(INSTRUMENT_L1_PRICE) {\n            on(ALT_INSTRUMENT_ID.INSTRUMENT_CODE to INSTRUMENT_L1_PRICE { INSTRUMENT_CODE }) \n          }\n      }\n\n      joining(INSTRUMENT) {\n        on(POSITION.INSTRUMENT_ID to INSTRUMENT { INSTRUMENT_ID })\n      }\n    }\n\n')),(0,s.kt)("p",null,"Joins can be one-to-one (key field match) or one-to-many (part-key-field match)."),(0,s.kt)("admonition",{type:"warning"},(0,s.kt)("p",{parentName:"admonition"},"Views with one-to-many joins cannot be used with Data Servers.")),(0,s.kt)("h2",{id:"fields"},"Fields"),(0,s.kt)("p",null,"Fields allow you to define which fields you would like to include in your view. You can reference fields from any of the tables that have been joined inside your view."),(0,s.kt)("p",null,"Adding a field is as simple as typing it in the ",(0,s.kt)("inlineCode",{parentName:"p"},"fields")," section of the view."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},"    fields {\n      INSTRUMENT.CURRENCY_ID \n    }\n")),(0,s.kt)("p",null,"You can add all the fields from a given table to a view using the ",(0,s.kt)("inlineCode",{parentName:"p"},"allFields")," accessor."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},"    fields {\n      TRADE.allFields()\n    }\n")),(0,s.kt)("br",null),(0,s.kt)("admonition",{type:"note"},(0,s.kt)("p",{parentName:"admonition"},"You can also access derived fields that were defined in the tables dictionary. This is just the same as any other field. For example, if the table TRADE has a derived field called ",(0,s.kt)("inlineCode",{parentName:"p"},"FAVOURITE"),", you could use it as follows:"),(0,s.kt)("pre",{parentName:"admonition"},(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},"    fields {\n      TRADE.FAVOURITE\n    }\n"))),(0,s.kt)("h3",{id:"overriding-a-field-name"},"Overriding a field name"),(0,s.kt)("p",null,"You can override the name of a field using various operators:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"withAlias")," - gives the field an alternative name on the view"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"withPrefix")," - adds a prefix to the standard field name (handy if you have a clash (e.g. if COUNTERPARTY and INSTRUMENT both have a NAME field)")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},'      COUNTERPARTY.NAME withPrefix COUNTERPARTY\n      INSTRUMENT.NAME withPrefix INSTRUMENT\n      INSTRUMENT.CURRENCY_ID withAlias "CURRENCY"\n')))}T.isMDXComponent=!0}}]);