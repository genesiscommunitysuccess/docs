"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[2847],{48692:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return c},default:function(){return g},frontMatter:function(){return p},metadata:function(){return d},toc:function(){return m}});var a=n(87462),i=n(63366),r=(n(67294),n(3905)),o=(n(61839),n(74915)),s=n(72451),l=["components"],p={title:"Integrations - React",sidebar_label:"React",id:"react",keywords:["web","integrations","angular"],tags:["web","integrations","angular"]},c=void 0,d={unversionedId:"web/integrations/react",id:"web/integrations/react",title:"Integrations - React",description:"Genesis Foundation can be used in React applications. Let's take a look at how you can set up a project, starting from scratch.",source:"@site/docs/04_web/04_integrations/03_react.md",sourceDirName:"04_web/04_integrations",slug:"/web/integrations/react",permalink:"/next/web/integrations/react",draft:!1,tags:[{label:"web",permalink:"/next/tags/web"},{label:"integrations",permalink:"/next/tags/integrations"},{label:"angular",permalink:"/next/tags/angular"}],version:"current",sidebarPosition:3,frontMatter:{title:"Integrations - React",sidebar_label:"React",id:"react",keywords:["web","integrations","angular"],tags:["web","integrations","angular"]},sidebar:"frontendSidebar",previous:{title:"Angular",permalink:"/next/web/integrations/angular"},next:{title:"Vue",permalink:"/next/web/integrations/vue"}},u={},m=[{value:"Setting up the React project",id:"setting-up-the-react-project",level:2},{value:"Configuring packages",id:"configuring-packages",level:2},{value:"Configure create-react-app",id:"configure-create-react-app",level:2},{value:"Using the components",id:"using-the-components",level:2},{value:"Additional notes",id:"additional-notes",level:2},{value:"create-react-app",id:"create-react-app",level:3},{value:"Working without decorators",id:"working-without-decorators",level:4},{value:"Data binding",id:"data-binding",level:3},{value:"HTML attributes",id:"html-attributes",level:4},{value:"Custom events",id:"custom-events",level:4},{value:"Interop layers: @skatejs/val and reactify-wc",id:"interop-layers-skatejsval-and-reactify-wc",level:4},{value:"TypeScript and TSX support",id:"typescript-and-tsx-support",level:3}],h={toc:m};function g(e){var t=e.components,n=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Genesis Foundation can be used in React applications. Let's take a look at how you can set up a project, starting from scratch."),(0,r.kt)("h2",{id:"setting-up-the-react-project"},"Setting up the React project"),(0,r.kt)("p",null,"First, you'll need to make sure that you have Node.js >= 8.2 and npm >= 5.6 installed. You can learn more and download that ",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/"},"on the official site"),"."),(0,r.kt)("p",null,"With Node.js installed, you can use ",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/create-a-new-react-app.html#create-react-app"},"create-react-app")," to create a new React project."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"npx create-react-app alpha-app\n")),(0,r.kt)("h2",{id:"configuring-packages"},"Configuring packages"),(0,r.kt)("p",null,"Next, we'll install the Genesis Foundation packages, along with supporting libraries. To do that, run this command from your new project folder:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"npm install --save @genesislcap/foundation-ui @genesislcap/alpha-design-system lodash-es\n")),(0,r.kt)("h2",{id:"configure-create-react-app"},"Configure create-react-app"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/create-a-new-react-app.html#create-react-app"},"create-react-app")," ships with an ",(0,r.kt)("a",{parentName:"p",href:"https://eslint.org/"},"eslint")," rule that makes working with Genesis Foundation components difficult. There are two changes that will need to be made in the ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json"),":"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Set the EXTEND_ESLINT environment variable in start, build, and test scripts")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    //...\n    "scripts": {\n        "start": "EXTEND_ESLINT=true react-scripts start",\n        "build": "EXTEND_ESLINT=true react-scripts build",\n        "test": "EXTEND_ESLINT=true react-scripts test",\n    }\n    // ...\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Override the ",(0,r.kt)("inlineCode",{parentName:"strong"},"eslintConfig")," field to turn off the 'no-unused-expressions' rule")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    //..\n    "eslintConfig": {\n        "extends": "react-app",\n        "rules": {\n            "no-unused-expressions": "off"\n        }\n    },\n    //..\n}\n')),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"https://create-react-app.dev/docs/setting-up-your-editor#experimental-extending-the-eslint-config"},"configuring eslint")," for more information."),(0,r.kt)("h2",{id:"using-the-components"},"Using the components"),(0,r.kt)("p",null,"With all the basic pieces in place, let's run our app in dev mode with ",(0,r.kt)("inlineCode",{parentName:"p"},"npm start"),". Right now, it displays the React logo and some editing instructions, since we haven't added any code or interesting HTML. Let's change that."),(0,r.kt)("p",null,"First, open your ",(0,r.kt)("inlineCode",{parentName:"p"},"src/app.js")," file and add the following code:"),(0,r.kt)(o.Z,{className:"language-js",mdxType:"CodeBlock"},s.Z),(0,r.kt)("p",null,"This code uses the Genesis Foundation Design System to register the ",(0,r.kt)("inlineCode",{parentName:"p"},"<alpha-card>")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"<alpha-button>")," components. Once you save, the dev server will rebuild and refresh your browser. However, you still won't see anything. To get some UI showing up, we need to write some HTML that uses our components. Replace the App component in your ",(0,r.kt)("inlineCode",{parentName:"p"},"src/app.js")," file with the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'function App() {\n  return (\n    <alpha-card>\n      <h2>Genesis Foundation React</h2>\n      <alpha-button appearance="accent" onClick={() => console.log("clicked")}>Click Me</alpha-button>\n    </alpha-card>\n  );\n}\n')),(0,r.kt)("p",null,"To add a splash of style, add the following to the ",(0,r.kt)("inlineCode",{parentName:"p"},"src/App.css"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"alpha-card {\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n}\n\nh2 {\n  font-size: var(--type-ramp-plus-5-font-size);\n  line-height: var(--type-ramp-plus-5-line-height);\n}\n\nalpha-card > alpha-button {\n  align-self: flex-end;\n}\n")),(0,r.kt)("p",null,"Congratulations! You're now set up to use Genesis Foundation and React!"),(0,r.kt)("h2",{id:"additional-notes"},"Additional notes"),(0,r.kt)("h3",{id:"create-react-app"},"create-react-app"),(0,r.kt)("p",null,"Genesis Foundation makes use of decorators to define components. At this time, ",(0,r.kt)("inlineCode",{parentName:"p"},"create-react-app")," ",(0,r.kt)("a",{parentName:"p",href:"https://create-react-app.dev/docs/can-i-use-decorators/"},"does not support decorators"),". This won't be a problem when using components ",(0,r.kt)("em",{parentName:"p"},"imported")," from Genesis Foundation because they have already been transpiled by TypeScript - but to ",(0,r.kt)("em",{parentName:"p"},"create")," components in a ",(0,r.kt)("inlineCode",{parentName:"p"},"create-react-app")," application you'll need to do one of the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Define components without decorators (described below)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://create-react-app.dev/docs/available-scripts#npm-run-eject"},"Eject"),(0,r.kt)("inlineCode",{parentName:"li"},"create-react-app")," and change Babel to support decorators "),(0,r.kt)("li",{parentName:"ul"},"Use an intermediary like ",(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/react-app-rewired"},"react-app-rewired"))),(0,r.kt)("h4",{id:"working-without-decorators"},"Working without decorators"),(0,r.kt)("p",null,"Decorators are an upcoming feature planned for a future version of JavaScript, but their design is not yet finished. While the syntax for decorator usage is not likely to change in the final version of the feature, some of our community members may feel uncomfortable using this feature at this stage. Additionally, since decorators are transpiled into code that uses helper functions (both in TypeScript and Babel) the compiled output will be larger than the equivalent non-decorator code."),(0,r.kt)("p",null,"While there are size implications of using decorators prior to full language support, they do present the most declarative and readable form of the API, and we recommend their use for the average project. To strike a balance between declarative readability and size, we recommend that TypeScript be used in combination with the ",(0,r.kt)("inlineCode",{parentName:"p"},'"importHelpers": true')," compiler option. When this option is set, instead of generating helper functions for decorators into every file, TypeScript will import a set of shared helpers published in the ",(0,r.kt)("inlineCode",{parentName:"p"},"tslib")," package."),(0,r.kt)("p",null,"For those who require the smallest possible builds, FAST Elements can be completely defined in Vanilla JS, without using decorators; to do this, use a static ",(0,r.kt)("inlineCode",{parentName:"p"},"definition")," field on your class. The ",(0,r.kt)("inlineCode",{parentName:"p"},"definition")," field only needs to present the same configuration as the ",(0,r.kt)("inlineCode",{parentName:"p"},"@customElement")," decorator. "),(0,r.kt)("p",null,"Here's an example that shows the use of the ",(0,r.kt)("inlineCode",{parentName:"p"},"definition")," field along with a manual call to ",(0,r.kt)("inlineCode",{parentName:"p"},"define")," the element:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { FoundationElement, html, css } from '@genesislcap/foundation-ui';\n\nconst template = html`...`;\nconst styles = css`...`;\nconst converter = { ... };\n\nexport class MyElement extends FoundationElement {\n  static definition = {\n    name: 'my-element',\n    template,\n    styles,\n    attributes: [\n      'value', // same attr/prop\n      { attribute: 'some-attr', property: 'someAttr' }, // different attr/prop\n      { property: 'count', converter } // derive attr; add converter\n    ]\n  };\n\n  value = '';\n  someAttr = '';\n  count = 0;\n}\n\nGenesisElement.define(MyElement);\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"definition")," can also be separated from the class and passed into the ",(0,r.kt)("inlineCode",{parentName:"p"},"define")," call directly if desired. Here's what that would look like: ",(0,r.kt)("inlineCode",{parentName:"p"},"FASTElement.define(MyElement, myDefinition);"))),(0,r.kt)("h3",{id:"data-binding"},"Data binding"),(0,r.kt)("h4",{id:"html-attributes"},"HTML attributes"),(0,r.kt)("p",null,"React is capable of rendering custom HTML elements and binding data to them, but it is beneficial to understand ",(0,r.kt)("em",{parentName:"p"},"how")," React does this. "),(0,r.kt)("p",null,"React will apply all ",(0,r.kt)("em",{parentName:"p"},"props")," to a custom HTML element as ",(0,r.kt)("em",{parentName:"p"},"HTML attributes")," - including non-primitive types such as arrays and objects. Where some UI libraries provide binding syntaxes to distinguish setting properties, attributes, and events, React does not. This means that it can be very easy to end up with ",(0,r.kt)("inlineCode",{parentName:"p"},'my-prop="[object Object]"')," in your HTML. React is exploring solutions ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/facebook/react/issues/11347"},"to this issue"),". See the section on ",(0,r.kt)("a",{parentName:"p",href:"#interop-layers-skatejsval-and-reactify-wc"},"interop layers")," for a work-around for this issue."),(0,r.kt)("h4",{id:"custom-events"},"Custom events"),(0,r.kt)("p",null,"React's synthetic eventing system comes with an unfortunate side-effect of being incapable of declaratively applying ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent"},(0,r.kt)("inlineCode",{parentName:"a"},"CustomEvent"))," listeners. ",(0,r.kt)("a",{parentName:"p",href:"#interop-layers-skatejsval-and-reactify-wc"},"interop layers")," can be used to address this issue. Alternatively, a ",(0,r.kt)("inlineCode",{parentName:"p"},"ref")," can be used on the custom element to imperatively apply the event listener to the HTML element directly."),(0,r.kt)("h4",{id:"interop-layers-skatejsval-and-reactify-wc"},"Interop layers: @skatejs/val and reactify-wc"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/skatejs/val"},"@skatejs/val")," is a small library that wraps React's ",(0,r.kt)("inlineCode",{parentName:"p"},"createElement")," function and provides the ability direct React ",(0,r.kt)("em",{parentName:"p"},"props")," explicitly to HTML attributes, DOM properties, or to declarative event listeners."),(0,r.kt)("p",null,"Another good option is ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/BBKolton/reactify-wc"},"reactify-wc"),". It provides similar capabilities as ",(0,r.kt)("inlineCode",{parentName:"p"},"@skatejs/val"),", but does so by creating component wrappers."),(0,r.kt)("h3",{id:"typescript-and-tsx-support"},"TypeScript and TSX support"),(0,r.kt)("p",null,"If you're using TypeScript, you'll need to augment the ",(0,r.kt)("inlineCode",{parentName:"p"},"JSX.IntrinsicElements")," interface to use custom elements in TSX. To do so, create a ",(0,r.kt)("inlineCode",{parentName:"p"},"custom-elements.d.ts")," file in your source directory and add the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'// custom-elements.d.ts\ndeclare namespace JSX {\n    interface IntrinsicElements {\n        /**\n         *  React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement> allows setting standard HTML attributes on the element\n         */\n        "my-element": React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement> & {\n            "my-attribute-name": string;\n        };\n    }\n}\n\n')))}g.isMDXComponent=!0},72451:function(e,t){t.Z="import { \n  provideDesignSystem, \n  alphaCard, \n  alphaButton,\n  alphaTextField\n} from '@genesislcap/alpha-design-system';\n\nprovideDesignSystem()\n    .register(\n        alphaCard(),\n        alphaButton(),\n        alphaTextField()\n    );"}}]);