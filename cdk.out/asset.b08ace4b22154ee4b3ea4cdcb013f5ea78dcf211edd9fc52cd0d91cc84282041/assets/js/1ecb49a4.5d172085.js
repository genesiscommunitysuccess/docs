"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[21898],{27277:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return l},metadata:function(){return r},toc:function(){return m}});var n=a(87462),o=a(63366),i=(a(67294),a(3905)),d=(a(61839),["components"]),l={title:"Database Technology - FoundationDb",sidebar_label:"FoundationDb",id:"foundationdb",keywords:["database","technology","foundationdb"],tags:["database","technology","foundationdb"]},s=void 0,r={unversionedId:"database/database-technology/foundationdb",id:"database/database-technology/foundationdb",title:"Database Technology - FoundationDb",description:"Genesis provides two database solutions built on FoundationDB.",source:"@site/docs/02_database/08_database-technology/02_foundationdb.md",sourceDirName:"02_database/08_database-technology",slug:"/database/database-technology/foundationdb",permalink:"/next/database/database-technology/foundationdb",draft:!1,tags:[{label:"database",permalink:"/next/tags/database"},{label:"technology",permalink:"/next/tags/technology"},{label:"foundationdb",permalink:"/next/tags/foundationdb"}],version:"current",sidebarPosition:2,frontMatter:{title:"Database Technology - FoundationDb",sidebar_label:"FoundationDb",id:"foundationdb",keywords:["database","technology","foundationdb"],tags:["database","technology","foundationdb"]},sidebar:"databaseSidebar",previous:{title:"Overview",permalink:"/next/database/database-technology/overview"},next:{title:"SQL",permalink:"/next/database/database-technology/sql"}},u={},m=[{value:"System definitions\u200b",id:"system-definitions",level:2},{value:"Sample configurations\u200b",id:"sample-configurations",level:2},{value:"Min and max thread count\u200b",id:"min-and-max-thread-count",level:3},{value:"Thread timeouts to two minutes\u200b",id:"thread-timeouts-to-two-minutes",level:3},{value:"Cluster file location on windows\u200b",id:"cluster-file-location-on-windows",level:3}],b={toc:m};function c(e){var t=e.components,a=(0,o.Z)(e,d);return(0,i.kt)("wrapper",(0,n.Z)({},b,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Genesis provides two database solutions built on FoundationDB."),(0,i.kt)("p",null,"FDB and FDB2 are equivalent in terms of configuration, but they store data using a different data model."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"FDB uses a separate key-value for each table column."),(0,i.kt)("li",{parentName:"ul"},"FDB2 stores all data in a single key-value.")),(0,i.kt)("p",null,"Each mode has implications in terms of database limitations, as FDB can only store a maximum of 10MB data per transaction and 1MB data per key-value."),(0,i.kt)("p",null,"Therefore, for applications using small table records, FDB2 will be more efficient. For applications using large table records, FDB will be more efficient."),(0,i.kt)("h2",{id:"system-definitions"},"System definitions",(0,i.kt)("a",{parentName:"h2",href:"/database/database-technology/foundationdb/#system-definitionsdirect-link-to-heading"},"\u200b")),(0,i.kt)("p",null,"For FDB and FDB2 layers, there are additional system definition items that you can apply in the\xa0",(0,i.kt)("a",{parentName:"p",href:"/database/database-technology/sql/#system-definitions"},"genesis-system-definitions.kts"),"\xa0file:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Setting"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"FdbClusterFile")),(0,i.kt)("td",{parentName:"tr",align:null},"A path to an\xa0fdb.cluster\xa0file. If this item is not defined, the default\xa0fdb.cluster\xa0file will be used. This file is located in /",(0,i.kt)("em",{parentName:"td"},"etc"),(0,i.kt)("strong",{parentName:"td"},"/foundationdb/fdb.cluster"),"y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"DbNamespace")),(0,i.kt)("td",{parentName:"tr",align:null},"A name for the internal FDB directory to use.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"DbThreadsMin")),(0,i.kt)("td",{parentName:"tr",align:null},"The minimum number of threads to be created in the FDB layer thread pool. Defaults to the minimum of 4 or the number of processing units")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"DbThreadsMax")),(0,i.kt)("td",{parentName:"tr",align:null},"The maximum number of threads to be created in the FDB layer thread pool. Defaults to the maximum of 4 or the number of processing units multiplied by 2")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"DbThreadKeepAliveSeconds")),(0,i.kt)("td",{parentName:"tr",align:null},"Sets how many seconds a thread created over the\xa0",(0,i.kt)("inlineCode",{parentName:"td"},"DbThreadsMin"),"\xa0value can live. If a thread is idle for a total of\xa0",(0,i.kt)("inlineCode",{parentName:"td"},"DbThreadKeepAliveSeconds"),"\xa0and it was created as an additional thread (i.e. outside the\xa0",(0,i.kt)("inlineCode",{parentName:"td"},"DbThreadsMin"),"\xa0threshold), it will be destroyed. Defaults to 5 minutes")))),(0,i.kt)("h2",{id:"sample-configurations"},"Sample configurations",(0,i.kt)("a",{parentName:"h2",href:"/database/database-technology/foundationdb/#sample-configurationsdirect-link-to-heading"},"\u200b")),(0,i.kt)("h3",{id:"min-and-max-thread-count"},"Min and max thread count",(0,i.kt)("a",{parentName:"h3",href:"/database/database-technology/foundationdb/#min-and-max-thread-countdirect-link-to-heading"},"\u200b")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'systemDefinition {\n    global {\n        ...\n        item(name = "DbThreadsMin", value = "5")\n        item(name = "DbThreadsMax", value = "15")\n        ...\n    }\n    ...\n}\n')),(0,i.kt)("h3",{id:"thread-timeouts-to-two-minutes"},"Thread timeouts to two minutes",(0,i.kt)("a",{parentName:"h3",href:"/database/database-technology/foundationdb/#thread-timeouts-to-two-minutesdirect-link-to-heading"},"\u200b")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'systemDefinition {\n    global {\n        ...\n        item(name = "DbThreadKeepAliveSeconds", value = "120")\n        ...\n    }\n    ...\n}\n')),(0,i.kt)("h3",{id:"cluster-file-location-on-windows"},"Cluster file location on windows",(0,i.kt)("a",{parentName:"h3",href:"/database/database-technology/foundationdb/#cluster-file-location-on-windowsdirect-link-to-heading"},"\u200b")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'systemDefinition {\n    global {\n        ...\n        item(name = "FdbClusterFile", value = "C:\\\\Genesis\\fdb\\fdb.cluster")\n        ...\n    }\n    ...\n}\n')))}c.isMDXComponent=!0}}]);