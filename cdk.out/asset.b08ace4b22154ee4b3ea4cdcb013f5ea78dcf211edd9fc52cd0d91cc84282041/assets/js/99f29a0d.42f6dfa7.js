"use strict";(self.webpackChunk_genesislcap_docs=self.webpackChunk_genesislcap_docs||[]).push([[55696],{50296:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return r},metadata:function(){return p},toc:function(){return u}});var a=n(87462),i=n(63366),o=(n(67294),n(3905)),s=(n(61839),["components"]),r={title:"Access Control - SSO Authentication",sidebar_label:"SSO Authentication",id:"SSO-authentication",keywords:["server","access control","SSO","authentication"],tags:["server","access control","SSO","authentication"]},l=void 0,p={unversionedId:"server/access-control/SSO-authentication",id:"server/access-control/SSO-authentication",title:"Access Control - SSO Authentication",description:"Introduction  | Authentication overview | Username and Password | SSO | Authorisation overview | Authorisation",source:"@site/docs/03_server/05_access-control/04_sso_authentication.md",sourceDirName:"03_server/05_access-control",slug:"/server/access-control/SSO-authentication",permalink:"/next/server/access-control/SSO-authentication",draft:!1,tags:[{label:"server",permalink:"/next/tags/server"},{label:"access control",permalink:"/next/tags/access-control"},{label:"SSO",permalink:"/next/tags/sso"},{label:"authentication",permalink:"/next/tags/authentication"}],version:"current",sidebarPosition:4,frontMatter:{title:"Access Control - SSO Authentication",sidebar_label:"SSO Authentication",id:"SSO-authentication",keywords:["server","access control","SSO","authentication"],tags:["server","access control","SSO","authentication"]},sidebar:"serverModulesSidebar",previous:{title:"Username and Password Authentication",permalink:"/next/server/access-control/password-authentication"},next:{title:"Authorisation Overview",permalink:"/next/server/access-control/authorisation-overview"}},d={},u=[{value:"Configuring SSO",id:"configuring-sso",level:2},{value:"sso",id:"sso",level:3},{value:"passwordRetry",id:"passwordretry",level:3},{value:"JWT SSO",id:"jwt-sso",level:2},{value:"Configuration details",id:"configuration-details",level:3},{value:"How Genesis JWT SSO works",id:"how-genesis-jwt-sso-works",level:3},{value:"CORS enabled",id:"cors-enabled",level:4},{value:"CORS not configured",id:"cors-not-configured",level:4},{value:"JWT revalidation",id:"jwt-revalidation",level:3},{value:"SAML SSO",id:"saml-sso",level:2},{value:"Definitions",id:"definitions",level:3},{value:"Pre-requisites",id:"pre-requisites",level:3},{value:"How to enable SAML in the Genesis Router",id:"how-to-enable-saml-in-the-genesis-router",level:3},{value:"Enabling users for SAML",id:"enabling-users-for-saml",level:3},{value:"Front-to-back flow",id:"front-to-back-flow",level:3},{value:"Testing SAML",id:"testing-saml",level:3},{value:"Server - setting up local SAML",id:"server---setting-up-local-saml",level:4},{value:"Running the user interface",id:"running-the-user-interface",level:4}],h={toc:u};function c(e){var t=e.components,n=(0,i.Z)(e,s);return(0,o.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/server/access-control/introduction"},"Introduction"),"  | ",(0,o.kt)("a",{parentName:"p",href:"/server/access-control/authentication-overview"},"Authentication overview")," | ",(0,o.kt)("a",{parentName:"p",href:"/server/access-control/password-authentication"},"Username and Password")," | ",(0,o.kt)("a",{parentName:"p",href:"/server/access-control/sso-authentication"},"SSO")," | ",(0,o.kt)("a",{parentName:"p",href:"/server/access-control/authorisation-overview"},"Authorisation overview")," | ",(0,o.kt)("a",{parentName:"p",href:"/server/access-control/authorisation"},"Authorisation")),(0,o.kt)("p",null,"Single sign-on (SSO) authentication uses the underlying SSO technology. SSO is a mechanism that allows a user to be authenticated against a single system, and use that across multiple applications - including those built on the Genesis low-code platform. This has the advantage that a user is required to log in only once, rather than once per system."),(0,o.kt)("p",null,"There are two different types of SSO authentication presently supported by the Genesis low-code platform. These are as follows:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://jwt.io/introduction"},"JWT (JSON Web Token)")," SSO"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Security_Assertion_Markup_Language"},"SAML"),".")),(0,o.kt)("h2",{id:"configuring-sso"},"Configuring SSO"),(0,o.kt)("p",null,"To enable SSO, you will need to configure it in your ",(0,o.kt)("em",{parentName:"p"},"application-name"),(0,o.kt)("strong",{parentName:"p"},"-auth-preferences.kts")," file."),(0,o.kt)("p",null,"These following options are available from within the ",(0,o.kt)("inlineCode",{parentName:"p"},"security")," function. For a more detailed look at the ",(0,o.kt)("strong",{parentName:"p"},"auth-preferences.kts")," file, visit the ",(0,o.kt)("a",{parentName:"p",href:"/server/access-control/password-authentication/"},"Password Authentication section"),"."),(0,o.kt)("h3",{id:"sso"},"sso"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"sso")," function allows you to configure and enable SSO options. It has the following variables to set:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"enabled")," is a boolean value that defines whether the SSO functionality is enabled. Default: true when the ",(0,o.kt)("inlineCode",{parentName:"li"},"sso")," function is invoked, otherwise false."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"newUserMode")," defines behaviour for processing users the first time they log in with SSO. This can take the values of ",(0,o.kt)("inlineCode",{parentName:"li"},"NewUserMode.REJECT"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"NewUserMode.CREATE_ENABLED"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"NewUserMode.CREATE_DISABLED"),". Default ",(0,o.kt)("inlineCode",{parentName:"li"},"NewUserMode.REJECT"),".",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"In the case of ",(0,o.kt)("inlineCode",{parentName:"li"},"NewUserMode.REJECT"),", when a user logs in for the first time with SSO, if they do not already have a user account, they are rejected."),(0,o.kt)("li",{parentName:"ul"},"In the case of ",(0,o.kt)("inlineCode",{parentName:"li"},"NewUserMode.CREATE_ENABLED"),", when a user logs in for the first time with SSO, if they do not already have a user account, an active account is created for them."),(0,o.kt)("li",{parentName:"ul"},"In the case of ",(0,o.kt)("inlineCode",{parentName:"li"},"NewUserMode.CREATE_DISABLED"),", when a user logs in for the first time with SSO, if they do not already have a user account, a disabled account is created for them. This will be need to be activated before it can be used.")))),(0,o.kt)("h3",{id:"passwordretry"},"passwordRetry"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"passwordRetry")," function allows you to configure settings for limiting the rate at which a user can retry passwords and SSO tokens. It allows the following variables to be set:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"maxAttempts")," defines the maximum number of attempts allowed if a user enters an incorrect SSO token. Default: 3"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"waitTimeMins")," specifies the time to wait when the maximum number of incorrect attempts is reached. Default: 5.")),(0,o.kt)("h2",{id:"jwt-sso"},"JWT SSO"),(0,o.kt)("p",null,"By giving the user a JWT when they authenticate with your identity provider, they can automatically have this identity verified when they attempt to access the application built on the Genesis low-code platform."),(0,o.kt)("p",null,"By centralising this authentication, you can authorise users access only to the relevant systems using tools like the ",(0,o.kt)("a",{parentName:"p",href:"https://azure.microsoft.com/en-gb/services/active-directory/#overview"},"Microsoft Azure AD")," component; thus letting you control who you grant access to applications built on the Genesis low-code platform."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"The IT infrastructure or security team at your organisation is usually responsible for setting up and managing your company's JWT authentication service. If a solution is not in place, Genesis can provide detailed instructions and assistance.")),(0,o.kt)("h3",{id:"configuration-details"},"Configuration details"),(0,o.kt)("p",null,"The following data points need to be shared with Genesis to complete the solution. These data points are stored in the database of your Genesis application. These are all stored on the ",(0,o.kt)("inlineCode",{parentName:"p"},"JWT_CONFIG")," table."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("inlineCode",{parentName:"li"},"DOMAIN")," must contain the domain for which this JWT is valid."),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("inlineCode",{parentName:"li"},"PUBLIC_KEY")," should contain the public key of the JWT key pair, (the private key is used to sign the JWT at the internal authentication service)."),(0,o.kt)("li",{parentName:"ul"},"Alternatively the ",(0,o.kt)("inlineCode",{parentName:"li"},"PUBLIC_KEY_URL")," can be set as a URL to obtain this dynamically. Public keys obtained in this way are expected to be in JSON Web Key Sets format."),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("inlineCode",{parentName:"li"},"REDIRECT_URL")," must contain the URL for which the user is redirected to log in, should they not possess a valid JWT."),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("inlineCode",{parentName:"li"},"KEY_ALGORITHM")," should be set either to ",(0,o.kt)("inlineCode",{parentName:"li"},"KeyAlgorithm.RSA")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"KeyAlgorithm.HMAC"),".")),(0,o.kt)("h3",{id:"how-genesis-jwt-sso-works"},"How Genesis JWT SSO works"),(0,o.kt)("p",null,"The SSO workflow depends on whether CORS is configured on your internal authentication service to allow the Genesis low-code platform to make direct authentication requests, or not."),(0,o.kt)("h4",{id:"cors-enabled"},"CORS enabled"),(0,o.kt)("p",null,"If CORS is enabled, the SSO workflow is:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"An unauthenticated user navigates to the Genesis application. For example: ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"https://your-subdomain.genesisapplication.com/"},"https://your-subdomain.genesisapplication.com/")),"."),(0,o.kt)("li",{parentName:"ol"},"The Genesis web platform recognises that SSO is enabled from the subdomain and that the user is not authenticated."),(0,o.kt)("li",{parentName:"ol"},"A request is made to the Genesis back end to request the URL for the specific authentication service."),(0,o.kt)("li",{parentName:"ol"},"The Genesis web platform makes an HTTPS request to your organisation's authentication service, which will include the end user\u2019s internal authentication parameters."),(0,o.kt)("li",{parentName:"ol"},"The authentication service authenticates and builds a JWT with relevant user data, signs the JWT and sends it back to the Genesis web platform."),(0,o.kt)("li",{parentName:"ol"},"With the signed JWT, the Genesis web platform makes an SSO authentication request for the specific organisation. If this is successful, an active Session token is returned.")),(0,o.kt)("h4",{id:"cors-not-configured"},"CORS not configured"),(0,o.kt)("p",null,"This set-up uses the browser\u2019s redirect functionality, so the user experience might not be as seamless."),(0,o.kt)("p",null,"If CORS is not enabled, the SSO workflow is:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"An unauthenticated user navigates to the Genesis application. For example: ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"https://your-subdomain.genesisapplication.com/"},"https://your-subdomain.genesisapplication.com/")),"."),(0,o.kt)("li",{parentName:"ol"},"The Genesis web platform recognises that SSO is enabled from the subdomain and that the user is not authenticated."),(0,o.kt)("li",{parentName:"ol"},"A request is made to the Genesis back end framework to request the URL for the specific authentication service."),(0,o.kt)("li",{parentName:"ol"},"A redirect is triggered for the browser to the internal authentication service, which will include the end user\u2019s internal authentication parameters. A return parameter to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"https://your-subdomain.genesisapplication.com/"},"https://your-subdomain.genesisapplication.com/"))," is also part of the request."),(0,o.kt)("li",{parentName:"ol"},"The authentication service authenticates and builds a JWT with relevant user data, signs the JWT and sends a redirect trigger to the browser for ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"https://your-subdomain.genesisapplication.com/"},"https://your-subdomain.genesisapplication.com/")),", which includes the JWT as a request parameter."),(0,o.kt)("li",{parentName:"ol"},"The Genesis platform is reloaded. It recognises that SSO is enabled, but now with the JWT as a parameter. The platform sends an SSO authentication request with the JWT for the specific organisation. If this is successful, an active Session token is returned.")),(0,o.kt)("h3",{id:"jwt-revalidation"},"JWT revalidation"),(0,o.kt)("p",null,"The Auth service provides an Event Handler to clients, which allows for periodic updating and revalidation of a JWT token."),(0,o.kt)("p",null,"The Event Handler is named ",(0,o.kt)("inlineCode",{parentName:"p"},"EVENT_VALIDATE_JWT")," and takes these parameters:-"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin"},"data class DomainJWT(\n    val domain: String,\n    val jwt: String\n)\n")),(0,o.kt)("h2",{id:"saml-sso"},"SAML SSO"),(0,o.kt)("p",null,"SAML is an SSO protocol that can be used to authenticate users on the Genesis platform. It works by connecting a Service Provider (SP) - the Genesis application in this case - and an Identity Provider (IDP), which would be an external party."),(0,o.kt)("p",null,"The SP and the IDP communicate using the user's web browser, and do not need to be accessible to each other."),(0,o.kt)("p",null,"Once SAML is enabled, a user can click on an SSO button in the GUI. This starts the SAML authentication flow:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The user is directed to a Genesis endpoint, which generates the authentication (authn) request."),(0,o.kt)("li",{parentName:"ol"},"The user is redirected to the IDP, with the authn request as a query parameter."),(0,o.kt)("li",{parentName:"ol"},"The user identifies him or herself to the IDP."),(0,o.kt)("li",{parentName:"ol"},"The user is redirected back to the Genesis SAML endpoint, with a response as a query parameter."),(0,o.kt)("li",{parentName:"ol"},"The response is validated, and the user is redirected back to the Genesis login endpoint with a token."),(0,o.kt)("li",{parentName:"ol"},"The front end starts the login process into Genesis using this token.")),(0,o.kt)("p",null,"For more information, see ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Security_Assertion_Markup_Language"},"wikipedia"),"."),(0,o.kt)("p",null,"This workflow is described in more detail in the section on ",(0,o.kt)("a",{parentName:"p",href:"/server/access-control/SSO-authentication/#front-to-back-flow"},"Front-to-back flow"),"."),(0,o.kt)("h3",{id:"definitions"},"Definitions"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Term"),(0,o.kt)("th",{parentName:"tr",align:null},"Meaning"),(0,o.kt)("th",{parentName:"tr",align:null},"Example"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"IDP"),(0,o.kt)("td",{parentName:"tr",align:null},"Identity Provider."),(0,o.kt)("td",{parentName:"tr",align:null},"The authentication source, for example your your User management solution.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"SP"),(0,o.kt)("td",{parentName:"tr",align:null},"Service Provider."),(0,o.kt)("td",{parentName:"tr",align:null},"The service for which the user needs to be authenticated, for example a Genesis application.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"MetaData"),(0,o.kt)("td",{parentName:"tr",align:null},"Configuration shared between the IDP and SP."),(0,o.kt)("td",{parentName:"tr",align:null},"See below.")))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0"?>\n<md:EntityDescriptor xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata" xmlns:ds="http://www.w3.org/2000/09/xmldsig#" entityID="http://localhost:8080/simplesaml/saml2/idp/metadata.php">\n  <md:IDPSSODescriptor protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol">\n    <md:KeyDescriptor use="signing">\n      <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">\n        <ds:X509Data>\n          <ds:X509Certificate>MIIDXTCCAkWgAwIBAgIJALmVVuDWu4NYMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwHhcNMTYxMjMxMTQzNDQ3WhcNNDgwNjI1MTQzNDQ3WjBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzUCFozgNb1h1M0jzNRSCjhOBnR+uVbVpaWfXYIR+AhWDdEe5ryY+CgavOg8bfLybyzFdehlYdDRgkedEB/GjG8aJw06l0qF4jDOAw0kEygWCu2mcH7XOxRt+YAH3TVHa/Hu1W3WjzkobqqqLQ8gkKWWM27fOgAZ6GieaJBN6VBSMMcPey3HWLBmc+TYJmv1dbaO2jHhKh8pfKw0W12VM8P1PIO8gv4Phu/uuJYieBWKixBEyy0lHjyixYFCR12xdh4CA47q958ZRGnnDUGFVE1QhgRacJCOZ9bd5t9mr8KLaVBYTCJo5ERE8jymab5dPqe5qKfJsCZiqWglbjUo9twIDAQABo1AwTjAdBgNVHQ4EFgQUxpuwcs/CYQOyui+r1G+3KxBNhxkwHwYDVR0jBBgwFoAUxpuwcs/CYQOyui+r1G+3KxBNhxkwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAQEAAiWUKs/2x/viNCKi3Y6blEuCtAGhzOOZ9EjrvJ8+COH3Rag3tVBWrcBZ3/uhhPq5gy9lqw4OkvEws99/5jFsX1FJ6MKBgqfuy7yh5s1YfM0ANHYczMmYpZeAcQf2CGAaVfwTTfSlzNLsF2lW/ly7yapFzlYSJLGoVE+OHEu8g5SlNACUEfkXw+5Eghh+KzlIN7R6Q7r2ixWNFBC/jWf7NKUfJyX8qIG5md1YUeT6GBW9Bm2/1/RiO24JTaYlfLdKK9TYb8sG5B+OLab2DImG99CJ25RkAcSobWNF5zD0O6lgOo3cEdB/ksCq3hmtlC/DlLZ/D8CJ+7VuZnS1rR2naQ==</ds:X509Certificate>\n        </ds:X509Data>\n      </ds:KeyInfo>\n    </md:KeyDescriptor>\n    <md:KeyDescriptor use="encryption">\n      <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">\n        <ds:X509Data>\n          <ds:X509Certificate>MIIDXTCCAkWgAwIBAgIJALmVVuDWu4NYMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwHhcNMTYxMjMxMTQzNDQ3WhcNNDgwNjI1MTQzNDQ3WjBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzUCFozgNb1h1M0jzNRSCjhOBnR+uVbVpaWfXYIR+AhWDdEe5ryY+CgavOg8bfLybyzFdehlYdDRgkedEB/GjG8aJw06l0qF4jDOAw0kEygWCu2mcH7XOxRt+YAH3TVHa/Hu1W3WjzkobqqqLQ8gkKWWM27fOgAZ6GieaJBN6VBSMMcPey3HWLBmc+TYJmv1dbaO2jHhKh8pfKw0W12VM8P1PIO8gv4Phu/uuJYieBWKixBEyy0lHjyixYFCR12xdh4CA47q958ZRGnnDUGFVE1QhgRacJCOZ9bd5t9mr8KLaVBYTCJo5ERE8jymab5dPqe5qKfJsCZiqWglbjUo9twIDAQABo1AwTjAdBgNVHQ4EFgQUxpuwcs/CYQOyui+r1G+3KxBNhxkwHwYDVR0jBBgwFoAUxpuwcs/CYQOyui+r1G+3KxBNhxkwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAQEAAiWUKs/2x/viNCKi3Y6blEuCtAGhzOOZ9EjrvJ8+COH3Rag3tVBWrcBZ3/uhhPq5gy9lqw4OkvEws99/5jFsX1FJ6MKBgqfuy7yh5s1YfM0ANHYczMmYpZeAcQf2CGAaVfwTTfSlzNLsF2lW/ly7yapFzlYSJLGoVE+OHEu8g5SlNACUEfkXw+5Eghh+KzlIN7R6Q7r2ixWNFBC/jWf7NKUfJyX8qIG5md1YUeT6GBW9Bm2/1/RiO24JTaYlfLdKK9TYb8sG5B+OLab2DImG99CJ25RkAcSobWNF5zD0O6lgOo3cEdB/ksCq3hmtlC/DlLZ/D8CJ+7VuZnS1rR2naQ==</ds:X509Certificate>\n        </ds:X509Data>\n      </ds:KeyInfo>\n    </md:KeyDescriptor>\n    <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="http://localhost:8080/simplesaml/saml2/idp/SingleLogoutService.php"/>\n    <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>\n    <md:SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="http://localhost:8080/simplesaml/saml2/idp/SSOService.php"/>\n  </md:IDPSSODescriptor>\n</md:EntityDescriptor>\n')),(0,o.kt)("h3",{id:"pre-requisites"},"Pre-requisites"),(0,o.kt)("p",null,"Before starting, ensure you have access to the IDP metadata (this is generated by the IDP). Once you have checked this, there are two things you need to do:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Enable SAML support in the Router"),(0,o.kt)("li",{parentName:"ol"},"Configure SAML.")),(0,o.kt)("p",null,"We shall now look at these in detail."),(0,o.kt)("h3",{id:"how-to-enable-saml-in-the-genesis-router"},"How to enable SAML in the Genesis Router"),(0,o.kt)("p",null,"You must enable SAML on the Genesis Router service. Do this by changing the router config in you ",(0,o.kt)("em",{parentName:"p"},"application-name-"),(0,o.kt)("strong",{parentName:"p"},"processes.xml")," file. The process name is ",(0,o.kt)("inlineCode",{parentName:"p"},"GENESIS_ROUTER"),"."),(0,o.kt)("p",null,"Specifically, you have to add:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"global.genesis.auth.saml")," to the ",(0,o.kt)("inlineCode",{parentName:"li"},"<package \u2026/>")," tag"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"auth-saml-*.jar")," to the ",(0,o.kt)("inlineCode",{parentName:"li"},"<classpath \u2026/>")," tag")),(0,o.kt)("p",null,"You can see these additions in the example below:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'    <process name="GENESIS_ROUTER">\n        <start>true</start>\n        <groupId>GENESIS</groupId>\n        <options>-Xmx512m -DXSD_VALIDATE=false</options>\n        <module>router</module>\n        <package>global.genesis.router,global.genesis.console,global.genesis.auth.saml</package>\n        <script>genesis-router.kts<\/script>\n        <classpath>genesis-console-5.2.*.jar,auth-saml-*.jar</classpath>\n        <description>Socket, Websocket and HTTP proxy which routes incoming messages to GENESIS microservices</description>\n    </process>\n')),(0,o.kt)("p",null,"Additionally, you need a ",(0,o.kt)("em",{parentName:"p"},"application-name-"),(0,o.kt)("strong",{parentName:"p"},"saml-config.kts")," file, as below:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin"},'    saml {\n        strictMode = false\n        debugMode = true\n        // this should be the URL of the application logon screen\n        loginEndpoint = "https://sso.genesislab.global/login" \n        tokenLifeInSeconds = 3000\n    \n        serviceProvider {\n            // this should be the url for accessing the router\n            entityId = "https://sso.genesislab.global/gwf" \n        }\n    \n        // for every identity provider we support we need one of these\n        identityProvider("genesis") {\n            // we need the IDP metadata, either a file:\n            metadataUrl = "genesismetadata.xml" \n            // or a url (IDP should be accessible from genesis box):\n            metadataUrl = "http://localhost:8080/simplesaml/saml2/idp/metadata.php?output=xml" // IDP metadata endpoint\n    \n            // where do we get the email address from\n            mapNameIdToUser()\n            // or \n            mapToAttribute("email")\n    \n            // optional -> add url parameter to auth request\n            modifyRequest { config ->\n                addParameter("PartnerSpId", config.settings.spEntityId)\n            }\n        }\n    }\n')),(0,o.kt)("p",null,"Note that the 'loginEndpoint' is the URL the front-end will be redirected to once a the full SAML workflow has completed and an SSO_TOKEN has been issued.\nIf this URL is a redirect, the SSO_TOKEN query parameter may be lost.\nAdditionally, if the web server is doing routing via scripts, navigating to this URL may throw a 404 Not Found error. The remedy in this case is to add an override for 404 errors to redirect back to your application logon screen.\nAn example of how to do this in NGINX is here:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"error_page 404 =200 /index.html;\n")),(0,o.kt)("p",null,"Advanced configuration is defined in the file ",(0,o.kt)("strong",{parentName:"p"},"onelogin.saml.properties"),". You need to use this if - for example - you need to configure a key for signing the authn request."),(0,o.kt)("p",null,"Once this is configured, a service provider metadata endpoint will be available on: ",(0,o.kt)("inlineCode",{parentName:"p"},"https://{url}/gwf/saml/metadata?idp={idp name}"),"."),(0,o.kt)("p",null,"Other endpoints provided are:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The ",(0,o.kt)("inlineCode",{parentName:"p"},"ssoLoginUrl")),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"The format of this is: ",(0,o.kt)("inlineCode",{parentName:"li"},"https://{appHost}{ssoLoginRoute}?idp={id}")," where:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"appHost")," is hostname of the app, e.g. dev-position2"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ssoLoginRoute")," is ",(0,o.kt)("inlineCode",{parentName:"li"},"/gwf/saml/login")," by default (this is configurable)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"id")," is the ID of the selected identity provider"))),(0,o.kt)("li",{parentName:"ul"},"For example: ",(0,o.kt)("inlineCode",{parentName:"li"},"https://dev-position2/gwf/saml/login?idp=provider1")))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"the ",(0,o.kt)("inlineCode",{parentName:"p"},"ssoListEndpoint")),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"By default, this is ",(0,o.kt)("inlineCode",{parentName:"li"},"gwf/saml/list")," (configurable)"),(0,o.kt)("li",{parentName:"ul"},"This endpoint returns a list of identity providers:")),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"[\n{ID:'provider1', DESCRIPTION:'Description 1'},\n{ID:'provider2', DESCRIPTION:'Description 2'}\n]\n")))),(0,o.kt)("h3",{id:"enabling-users-for-saml"},"Enabling users for SAML"),(0,o.kt)("p",null,"To enable users to be able to sign in using SAML, you must add them to the ",(0,o.kt)("inlineCode",{parentName:"p"},"USER"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"USER_ATTRIBUTES")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"SSO_USER")," tables within your Genesis application."),(0,o.kt)("p",null,"In the ",(0,o.kt)("inlineCode",{parentName:"p"},"SSO_USER")," table:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SSO_METHOD")," must be set to SAML"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SSO_SOURCE")," must be set to the identity provider name defined in the ",(0,o.kt)("strong",{parentName:"li"},"saml-config.kts")," file.")),(0,o.kt)("p",null,"The Genesis username should be the user\u2019s email address."),(0,o.kt)("h3",{id:"front-to-back-flow"},"Front-to-back flow"),(0,o.kt)("p",null,"This section provides a more detailed description of the workflow between a Genesis application SP and an external IDP. The flow assumes the following settings:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ssoToggle")," is set to true in the Genesis application\u2019s ",(0,o.kt)("inlineCode",{parentName:"li"},"config.ts"),", this ensures that the \u2018Enable SSO?\u2019 checkbox is displayed on the application's login page."),(0,o.kt)("li",{parentName:"ul"},"'Enable SSO\u2019 is checked, either manually in the UI, or ",(0,o.kt)("inlineCode",{parentName:"li"},"ssoEnable")," is set to true by default in the config."),(0,o.kt)("li",{parentName:"ul"},"In the front end, the following has been added to ",(0,o.kt)("inlineCode",{parentName:"li"},"src/routes/config.ts"),":")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"this.routes.map(\n      {path: '', redirect: 'login'},\n      {\n        path: 'login',\n        element: Login,\n        title: 'Login',\n        name: 'login',\n        layout: loginLayout,\n        settings: {\n          ...\n          ssoToggle: true,\n          ssoEnable: true,\n        },\n        childRouters: true,\n      },\n      {path: 'protected', element: Protected, title: 'Protected', name: 'protected', settings: {allowAutoAuth: true}},\n      {path: 'admin', element: Admin, title: 'Admin', name: 'admin', settings: {allowAutoAuth: true}},\n      {path: 'reporting', element: Reporting, title: 'Reporting', name: 'reporting', settings: {allowAutoAuth: true}},\n    );\n\n")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The front end hits ",(0,o.kt)("strong",{parentName:"p"},"ssoListEndpoint")," - by default - this is ",(0,o.kt)("inlineCode",{parentName:"p"},"gwf/saml/list")," (This is configurable).")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"ssoListEndpoint")," returns a list of identity providers:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"[\n{ID:'provider1', DESCRIPTION:'Description 1'},\n{ID:'provider2', DESCRIPTION:'Description 2'}\n]\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Identity providers are parsed and the dropdown is populated on the login page.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The user selects an identity provider using the dropdown (or keeps the preselected default). Then the user clicks the '",(0,o.kt)("strong",{parentName:"p"},"SSO Login"),"' button.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The browser redirects to the ",(0,o.kt)("strong",{parentName:"p"},"ssoLoginUrl"),", which might be, for example: ",(0,o.kt)("inlineCode",{parentName:"p"},"https://dev-position2/gwf/saml/login?idp=provider1"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The server sends the user to the identity provider\u2019s login page.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The user logs in using their SSO credentials.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The server redirects the client back to the client-app with a new url param: ",(0,o.kt)("inlineCode",{parentName:"p"},"SSO_TOKEN"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The front end checks for the presence of an ",(0,o.kt)("inlineCode",{parentName:"p"},"SSO_TOKEN")," url param. If found, it stores it in session storage and uses it to perform an \u2018SSO Login\u2019.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The server responds with an ACK and the user is now logged in. If there is an error, a NACK is returned and the login fails."))),(0,o.kt)("h3",{id:"testing-saml"},"Testing SAML"),(0,o.kt)("h4",{id:"server---setting-up-local-saml"},"Server - setting up local SAML"),(0,o.kt)("p",null,"In order to test the SAML flow, first, you need to run SAML locally. You can do this using a docker container, for example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker run -p 8080:8080 -p 8443:8443 -e SIMPLESAMLPHP_SP_ENTITY_ID=https://localhost/gwf/saml/metadata?idp=test -e SIMPLESAMLPHP_SP_ASSERTION_CONSUMER_SERVICE=https://localhost/gwf/saml/logon?idp=test -e SIMPLESAMLPHP_SP_SINGLE_LOGOUT_SERVICE=https://localhost/gwf/saml/logout?idp=test -d kristophjunge/test-saml-idp\n")),(0,o.kt)("p",null,"In the above command, you need to replace:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"IP")," with the address/IP of your Genesis instance"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"test"),"  with the name of the IDP")),(0,o.kt)("p",null,"Then, make sure that auth saml has been added to the genesis router configuration in ",(0,o.kt)("strong",{parentName:"p"},"processes.xml"),", for example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<process name="GENESIS_ROUTER">\n    <start>true</start>\n    <groupId>GENESIS</groupId>\n    <options>-Xmx512m -DXSD_VALIDATE=false</options>\n    <module>router</module>\n    <package>global.genesis.router,global.genesis.console,global.genesis.auth.saml</package>\n    <script>genesis-router.kts<\/script>\n    <language>pal</language>\n    <classpath>genesis-console-*.jar,auth-saml-*.jar</classpath>\n    <description>Socket, Websocket and HTTP proxy which routes incoming messages to GENESIS microservices</description>\n</process>\n')),(0,o.kt)("p",null,"Next, in your application's ",(0,o.kt)("strong",{parentName:"p"},"jvm/{application-name}-site-specific")," directory, create an ",(0,o.kt)("em",{parentName:"p"},"application-name-"),(0,o.kt)("strong",{parentName:"p"},"saml-config.kts")," file with the following SAML details:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin"},'    saml {\n        strictMode = false\n        debugMode = true\n    \n        loginEndpoint = "http://localhost:6060/login" \n        tokenLifeInSeconds = 3000\n    \n        serviceProvider {\n            // this should be the url for accessing the router\n            entityId = "http://localhost/gwf" \n        }\n    \n        // for every identity provider we support we need one of these\n        identityProvider("test") {\n            metadataUrl = "http://localhost:8080/simplesaml/saml2/idp/metadata.php?output=xml" // IDP metadata endpoint\n    \n            // where do we get the email address from\n            mapToAttribute("email")\n        }\n    }\n')),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Now you are ready to add some users.")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Add user to USER table with username \u201c",(0,o.kt)("a",{parentName:"p",href:"mailto:user1@example.com"},"user1@example.com"),"\u201d")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Add user to SSO_USER table:"))),(0,o.kt)("p",null,'"SSO_SOURCE","SSO_METHOD","SSO_DETAILS","USER_NAME\u201d\nSSO_SOURCE = Identity Provider (as per above SAML config \u2019test\u2019)\nSSO_METHOD = SAML\nSSO_DETAILS = an internal identifier (for example, TRADE_DESK_1)\nUSER_NAME = ',(0,o.kt)("a",{parentName:"p",href:"mailto:user1@example.com"},"user1@example.com")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},'Add user to USER_ATTRIBUTES table:\n"TELEPHONE_NUMBER_DIRECT","MOBILE_NUMBER","USER_NAME","TELEPHONE_NUMBER_OFFICE","REGION","ADDRESS_LINE1","ADDRESS_LINE2","ADDRESS_LINE3","CITY","COUNTRY","ADDRESS_LINE4","POSTAL_CODE","USER_TYPE","ACCESS_TYPE","TITLE","WEBSITE\u201d\nOnly three are relevant!\nUSER_NAME = ',(0,o.kt)("a",{parentName:"li",href:"mailto:user1@example.com"},"user1@example.com"),"\nUSER_TYPE = USER\nACCESS_TYPE = ALL")),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"With the users set up, you can run your server.")),(0,o.kt)("h4",{id:"running-the-user-interface"},"Running the user interface"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Run an NGINX proxy docker container: for example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker run -it --rm -d -p 80:80 -p 443:443 --name **genesis**-console-proxy --add-host localnode:$(ifconfig eth0 | grep inet | grep -v inet6 | awk '{print $2}') genesisglobal-docker-internal.jfrog.io/genesis-console-proxy\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In ",(0,o.kt)("strong",{parentName:"p"},"package.json"),", change the API_HOST property to ",(0,o.kt)("inlineCode",{parentName:"p"},'"API_HOST": "wss://localhost/gwf/"'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Now you can run the front end."))),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"Test Metadata File (testMetadata.xml)")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker run -it --rm -d -p 80:80 -p 443:443 --name genesis-console-proxy --add-host\n")),(0,o.kt)("p",null,"Here is some test metadata you can use:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0"?>\n<md:EntityDescriptor xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata" xmlns:ds="http://www.w3.org/2000/09/xmldsig#"\n                     entityID="http://localhost:8080/simplesaml/saml2/idp/metadata.php">\n    <md:IDPSSODescriptor protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol">\n        <md:KeyDescriptor use="signing">\n            <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">\n                <ds:X509Data>\n                    <ds:X509Certificate>\n                        MIIDXTCCAkWgAwIBAgIJALmVVuDWu4NYMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwHhcNMTYxMjMxMTQzNDQ3WhcNNDgwNjI1MTQzNDQ3WjBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzUCFozgNb1h1M0jzNRSCjhOBnR+uVbVpaWfXYIR+AhWDdEe5ryY+CgavOg8bfLybyzFdehlYdDRgkedEB/GjG8aJw06l0qF4jDOAw0kEygWCu2mcH7XOxRt+YAH3TVHa/Hu1W3WjzkobqqqLQ8gkKWWM27fOgAZ6GieaJBN6VBSMMcPey3HWLBmc+TYJmv1dbaO2jHhKh8pfKw0W12VM8P1PIO8gv4Phu/uuJYieBWKixBEyy0lHjyixYFCR12xdh4CA47q958ZRGnnDUGFVE1QhgRacJCOZ9bd5t9mr8KLaVBYTCJo5ERE8jymab5dPqe5qKfJsCZiqWglbjUo9twIDAQABo1AwTjAdBgNVHQ4EFgQUxpuwcs/CYQOyui+r1G+3KxBNhxkwHwYDVR0jBBgwFoAUxpuwcs/CYQOyui+r1G+3KxBNhxkwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAQEAAiWUKs/2x/viNCKi3Y6blEuCtAGhzOOZ9EjrvJ8+COH3Rag3tVBWrcBZ3/uhhPq5gy9lqw4OkvEws99/5jFsX1FJ6MKBgqfuy7yh5s1YfM0ANHYczMmYpZeAcQf2CGAaVfwTTfSlzNLsF2lW/ly7yapFzlYSJLGoVE+OHEu8g5SlNACUEfkXw+5Eghh+KzlIN7R6Q7r2ixWNFBC/jWf7NKUfJyX8qIG5md1YUeT6GBW9Bm2/1/RiO24JTaYlfLdKK9TYb8sG5B+OLab2DImG99CJ25RkAcSobWNF5zD0O6lgOo3cEdB/ksCq3hmtlC/DlLZ/D8CJ+7VuZnS1rR2naQ==\n                    </ds:X509Certificate>\n                </ds:X509Data>\n            </ds:KeyInfo>\n        </md:KeyDescriptor>\n        <md:KeyDescriptor use="encryption">\n            <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">\n                <ds:X509Data>\n                    <ds:X509Certificate>\n                        MIIDXTCCAkWgAwIBAgIJALmVVuDWu4NYMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwHhcNMTYxMjMxMTQzNDQ3WhcNNDgwNjI1MTQzNDQ3WjBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzUCFozgNb1h1M0jzNRSCjhOBnR+uVbVpaWfXYIR+AhWDdEe5ryY+CgavOg8bfLybyzFdehlYdDRgkedEB/GjG8aJw06l0qF4jDOAw0kEygWCu2mcH7XOxRt+YAH3TVHa/Hu1W3WjzkobqqqLQ8gkKWWM27fOgAZ6GieaJBN6VBSMMcPey3HWLBmc+TYJmv1dbaO2jHhKh8pfKw0W12VM8P1PIO8gv4Phu/uuJYieBWKixBEyy0lHjyixYFCR12xdh4CA47q958ZRGnnDUGFVE1QhgRacJCOZ9bd5t9mr8KLaVBYTCJo5ERE8jymab5dPqe5qKfJsCZiqWglbjUo9twIDAQABo1AwTjAdBgNVHQ4EFgQUxpuwcs/CYQOyui+r1G+3KxBNhxkwHwYDVR0jBBgwFoAUxpuwcs/CYQOyui+r1G+3KxBNhxkwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAQEAAiWUKs/2x/viNCKi3Y6blEuCtAGhzOOZ9EjrvJ8+COH3Rag3tVBWrcBZ3/uhhPq5gy9lqw4OkvEws99/5jFsX1FJ6MKBgqfuy7yh5s1YfM0ANHYczMmYpZeAcQf2CGAaVfwTTfSlzNLsF2lW/ly7yapFzlYSJLGoVE+OHEu8g5SlNACUEfkXw+5Eghh+KzlIN7R6Q7r2ixWNFBC/jWf7NKUfJyX8qIG5md1YUeT6GBW9Bm2/1/RiO24JTaYlfLdKK9TYb8sG5B+OLab2DImG99CJ25RkAcSobWNF5zD0O6lgOo3cEdB/ksCq3hmtlC/DlLZ/D8CJ+7VuZnS1rR2naQ==\n                    </ds:X509Certificate>\n                </ds:X509Data>\n            </ds:KeyInfo>\n        </md:KeyDescriptor>\n        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"\n                                Location="http://localhost:8080/simplesaml/saml2/idp/SingleLogoutService.php"/>\n        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>\n        <md:SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"\n                                Location="http://localhost:8080/simplesaml/saml2/idp/SSOService.php"/>\n    </md:IDPSSODescriptor>\n</md:EntityDescriptor>\n')))}c.isMDXComponent=!0}}]);