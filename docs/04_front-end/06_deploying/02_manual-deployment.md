---
title: 'Manual deployment'
sidebar_label: 'Manual deployment'
id: manual-deployment
---

To perform a manual deployment, you will have to:
- Copy the web build from your machine to the target server.
- Update the _web root_ symlink.

The files need to be placed in `/data/${productUser}/web`. There are multiple ways to do this; use whichever one you are most comfortable with.

:::note
It is possible to configure [WinSCP](https://winscp.net/eng/index.php) to sudo and deploy to the web root directly.
:::

If you ssh into the server using your personal credentials, you probably won't have access to put them there directly. To get around this, you can transfer them to `/tmp` first (or any other directory with open permissions) and then copy them over to the desired location once you have logged in as the _product user_ on the server.

Here is an example using [rsync](https://explainshell.com/explain?cmd=rsync+-avzhP+-e+%22ssh+i+%2Fpath%2Fto%2Fkey%22+src+target) over SSH:

- Send the files from your machine to the remote server, at first targeting the `/tmp` for permissions reasons.

```bash
rsync   -avzhP 
        -e "ssh -i /path/to/id_rsa"             # path to your ssh key
        /path/to/local/build                    # path to your local build, generated by running npm run build 
        username@remote-target:/tmp/product     # initial target folder on the server
```

- SSH into the server:
    - `ssh -i /path/to/id_rsa username@remote-target`

- Switch to the product user: 
    - `sudo su - product` 

- Copy the dist files from `/tmp` to the _web root_, by convention to a folder named web-${currentdate}: 
    - `cp -r /tmp/product/www /data/product/web-20220823`

- Update the symlink:
    - `unlink /data/product/web`
    - `ln -s /data/product/web-20220823/ /data/product/web `

