---
title: 'Styles utilities'
sidebar_label: 'Styles utilities'
id: styles-util
keywords: [utils, utility, styles, dynamic, look, styling, management]
tags:
  - utils
  - utility
  - styles
  - dynamic
  - look
  - styling
  - management
---

This  encompasses a comprehensive suite of utilities and components for dynamic style management, including CSS rule insertion, font face loading, and the application of styles to custom elements.

## Key Features

- **Encapsulated Style Management:** Allows styles to be defined and dynamically changed for custom elements, supporting encapsulated styling strategies.
- **Font Face Loading:** Simplifies the loading of custom font faces by generating and applying the necessary CSS rules.
- **Dynamic CSS Rule Insertion:** Enables the insertion of CSS rules into the document, facilitating dynamic style updates.
- **Element Style Conversion:** Converts `ComposableStyles` or an array of `ComposableStyles` into `ElementStyles` for efficient style application.

## Use Cases

This module is ideal for:
- Dynamic style management.
- Enhanced styling, flexibility and maintainability

### Examples

#### Dynamic Style Application with `SlottedStyles`

The `SlottedStyles` custom element enables the encapsulation and dynamic application of styles to slotted content. It observes changes to its `styles` property and applies the new styles to its parent element's shadow DOM or to the document.

```typescript
import { SlottedStyles } from '@genesislcap/foundation-utils';

// Create a new SlottedStyles element
const slottedStyles = document.createElement('slotted-styles') as SlottedStyles;

// Define styles
slottedStyles.styles = `
  :host {
    display: block;
    color: red;
  }
`;

// Append the element to the document
document.body.appendChild(slottedStyles);

// Update styles dynamically
slottedStyles.styles = `
  :host {
    display: block;
    color: blue;
  }
`;

// Observe changes to the styles property
slottedStyles.addEventListener('styles-changed', (e) => {
  console.log('Styles changed:', slottedStyles.styles);
});
```

### CSS Rule and Font Face Management

#### Inserting CSS Rules

The `insertDocumentCSSRule` utility function dynamically inserts CSS rules into the document, creating a new `<style>` element or utilizing an existing one identified by a specific ID.

```typescript
import { insertDocumentCSSRule } from '@genesislcap/foundation-utils';

// Insert a global CSS rule
insertDocumentCSSRule('.my-class { color: red; }', 'my-style-element-id');
```

#### Loading Font Faces

The `loadFontFaces` function simplifies the process of defining and loading custom font faces by automatically generating the necessary CSS rules and applying them to the document.

```typescript
import { loadFontFaces, insertDocumentCSSRule } from '@genesislcap/foundation-utils';

// Load custom font faces
loadFontFaces(`
  @font-face {
    font-family: 'CustomFont';
    src: url('/path/to/custom-font.woff2') format('woff2');
  }
`, 'custom-font-styles');
```

#### Style Conversion

The `toElementStyles` function converts `ComposableStyles` or an array of `ComposableStyles` into `ElementStyles`, streamlining the application of styles within `@genesislcap/genesis-element` components.

```typescript
import { toElementStyles } from '@genesislcap/foundation-utils';

// Define styles
const myStyles = toElementStyles(`:host { display: block; }`);

// Apply styles to a slotted-styles element
document.querySelector('some-element').styles = myStyles;
```

### Key Points

- **Scoped Style Application:** Use `SlottedStyles` for scoped style management within components, ensuring styles are applied predictably and without leaking into the global scope.
- **Efficient Font Loading:** When using `loadFontFaces`, ensure fonts are loaded efficiently to minimize impact on page load times and prevent layout shifts.
- **Semantic ID Naming:** Choose meaningful IDs for style and font elements to facilitate maintainability and prevent conflicts.
