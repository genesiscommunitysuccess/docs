---
format: md
---
<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@genesislcap/foundation-testing](./foundation-testing.md) &gt; [timeout](./foundation-testing.timeout.md)

## timeout() function

Timeout utility.

**Signature:**

```typescript
timeout: (callback: (context: any) => Promise<any>, duration?: number) => (context: any) => Promise<any>
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

callback


</td><td>

(context: any) =&gt; Promise&lt;any&gt;


</td><td>

The async test function.


</td></tr>
<tr><td>

duration


</td><td>

number


</td><td>

_(Optional)_ An optional duration in milliseconds. Defaults to 5\_000.


</td></tr>
</tbody></table>

**Returns:**

(context: any) =&gt; Promise&lt;any&gt;

## Example 1

A promise that never ends.

```ts
test(
  'should fail',
  timeout(async () => {
    await new Promise(() => {});
    assert.ok(true);
  }, 5_000),
);
```

## Example 2

A slow API.

```ts
test(
  'should fail',
  timeout(async () => {
    const slowMockAPI = delayedResolve({ foo: 'bar' }, 4_000);
    await slowMockAPI();
    assert.unreachable('should have timed out');
  }, 2_000),
);
```

