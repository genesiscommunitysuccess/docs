---
title: 'Anchored region'
sidebar_label: 'Anchored region'
id: client-interaction-anchored-region
keywords: [ interaction, interactive, anchor, region, layout, space, react, viewport, resize ]
tags:
- interaction
- interactive
- anchor
- region
- layout
- space
- react
- viewport
- resize
sidebar_position: 8
---

import AnchoredRegion from '/examples/ui/client-capabilities/interaction/anchored-region.js';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Anchors add different types of links to your page.

Use cases:
* Creating a hyperlink to a different page
* Linking to a specific region of the current page
* An email link which pre-populates the recipient field

## Example
<AnchoredRegion />

:::info
The live example includes css styling to ensure the components fit into the example container.
:::

<Tabs defaultValue="genesis" values={[{ label: 'Genesis', value: 'genesis', }, { label: 'React', value: 'react', }, { label: 'Angular', value: 'angular', }]}>

  <TabItem value="genesis">

    Declaration
    ```html
    <rapid-anchored-region></rapid-anchored-region>
    ```

    Usage
    ```typescript
    @customElement({
      name: 'my-element',
      template: html`
        <div id="viewport">
          <button id="anchor">
            Button is an anchor, defined first in the DOM
          </button>
          <rapid-anchored-region
            anchor="anchor"
            vertical-positioning-mode="locktodefault"
            vertical-default-position="top">
            This shows up above the button, even though it's after it in the DOM
          </rapid-anchored-region>
        </div>
      `,
    })
    export class MyElement extends GenesisElement { }
    ```

  </TabItem>
  <TabItem value="react">

    Declaration
    ```html
    <rapid-anchored-region></rapid-anchored-region>
    ```

    Usage
    ```typescript
    export function MyComponent() {
      return (
        <div id="viewport">
          <button id="anchor">
            Button is an anchor, defined first in the DOM
          </button>
          <rapid-anchored-region
            anchor="anchor"
            vertical-positioning-mode="locktodefault"
            vertical-default-position="top">
            This shows up above the button, even though it's after it in the DOM
          </rapid-anchored-region>
        </div>
      );
    }
    ```
  </TabItem>
  <TabItem value="angular">

    Declaration
    ```html
    <rapid-anchored-region></rapid-anchored-region>
    ```

    Usage
    ```typescript
    import { Component, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';
    import { FormsModule } from '@angular/forms';
    @Component({
      selector: 'my-root',
      template: `
        <div id="viewport">
          <button id="anchor">
            Button is an anchor, defined first in the DOM
          </button>
          <rapid-anchored-region
            anchor="anchor"
            vertical-positioning-mode="locktodefault"
            vertical-default-position="top">
            This shows up above the button, even though it's after it in the DOM
          </rapid-anchored-region>
        </div>
      `,
      standalone: true,
      schemas: [CUSTOM_ELEMENTS_SCHEMA],
      imports: [FormsModule],
    })
    export class AppComponent { }
    ```
  </TabItem>
</Tabs>


## API

### Attributes



<table>
    <thead>
        <tr>
            <th>Attribute</th>
            <th>Type</th>
            <th>Description</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>anchor</td>
            <td><code>string</code></td>
            <td>The HTML ID of the anchor element this region is positioned relative to. Default: ""</td>
<td>

```typescript
<rapid-anchored-layout anchor="header-id">
```

</td>
        </tr>
        <tr>
            <td>viewport</td>
            <td><code>string</code></td>
            <td>The HTML ID of the viewport element this region is positioned relative to. Default: ""</td>
<td>

```typescript
<rapid-anchored-layout viewport="main-content">
```

</td>
        </tr>
        <tr>
            <td>horizontal-positioning-mode</td>
            <td><code>"uncontrolled" | "locktodefault" | "dynamic"</code></td>
            <td>Sets logic for horizontal placement. Default: "uncontrolled". <code>locktodefault</code> forces the default position, <code>dynamic</code> decides placement based on available space, and <code>uncontrolled</code> does not control placement on the horizontal axis</td>
<td>

```typescript
<rapid-anchored-layout horizontal-positioning-mode="dynamic">
```

</td>
        </tr>
        <tr>
            <td>horizontal-default-position</td>
            <td><code>"start" | "end" | "left" | "right" | "center" | "unset"</code></td>
            <td>Default horizontal position relative to anchor. Default: "unset"</td>
<td>

```typescript
<rapid-anchored-layout horizontal-default-position="center">
```

</td>
        </tr>
        <tr>
            <td>horizontal-viewport-lock</td>
            <td><code>boolean</code></td>
            <td>Whether region remains in viewport on horizontal axis. Default: false</td>
<td>

```typescript
<rapid-anchored-layout horizontal-viewport-lock="true">
```

</td>
        </tr>
        <tr>
            <td>horizontal-inset</td>
            <td><code>boolean</code></td>
            <td>Whether region overlaps anchor on horizontal axis. Default: false</td>
<td>

```typescript
<rapid-anchored-layout horizontal-inset="false">
```

</td>
        </tr>
        <tr>
            <td>horizontal-threshold</td>
            <td><code>number</code></td>
            <td>How narrow the space allocated to the default position has to be before the widest area is selected for the layout.</td>
<td>

```typescript
<rapid-anchored-layout horizontal-threshold="10">
```

</td>
        </tr>
        <tr>
            <td>horizontal-scaling</td>
            <td><code>"anchor" | "fill" | "content"</code></td>
            <td>How width is calculated. Default: "content"</td>
<td>

```typescript
<rapid-anchored-layout horizontal-scaling="content">
```

</td>
        </tr>
        <tr>
            <td>vertical-positioning-mode</td>
            <td><code>"uncontrolled" | "locktodefault" | "dynamic"</code></td>
            <td>Sets logic for vertical placement. Default: "uncontrolled". <code>locktodefault</code> forces the default position, <code>dynamic</code> decides placement based on available space, and <code>uncontrolled</code> does not control placement on the horizontal axis</td>
<td>

```typescript
<rapid-anchored-layout vertical-positioning-mode="dynamic">
```

</td>
        </tr>
        <tr>
            <td>vertical-default-position</td>
            <td><code>"top" | "bottom" | "center" | "unset"</code></td>
            <td>Default vertical position relative to anchor. Default: "unset"</td>
<td>

```typescript
<rapid-anchored-layout vertical-default-position="top">
```

</td>
        </tr>
        <tr>
            <td>vertical-viewport-lock</td>
            <td><code>boolean</code></td>
            <td>Whether region remains in viewport on vertical axis (i.e. detatches from the anchor). Default: false</td>
<td>

```typescript
<rapid-anchored-layout vertical-viewport-lock="false">
```

</td>
        </tr>
        <tr>
            <td>vertical-inset</td>
            <td><code>boolean</code></td>
            <td>Whether the region overlaps the anchor on the vertical axis</td>
<td>

```typescript
<rapid-anchored-layout vertical-inset="true">
```

</td>
        </tr>
        <tr>
            <td>vertical-threshold</td>
            <td><code>number</code></td>
            <td>Space threshold before tallest area is selected for layout</td>
<td>

```typescript
<rapid-anchored-layout vertical-threshold="15">
```

</td>
        </tr>
        <tr>
            <td>vertical-scaling</td>
            <td><code>"anchor" | "fill" | "content"</code></td>
            <td>How height is calculated. Default: "content"</td>
<td>

```typescript
<rapid-anchored-layout vertical-scaling="fill">
```

</td>
        </tr>
        <tr>
            <td>fixed-placement</td>
            <td><code>boolean</code></td>
            <td>Whether region uses fixed positioning instead of absolute. Default: false</td>
<td>

```typescript
<rapid-anchored-layout fixed-placement="true">
```

</td>
        </tr>
        <tr>
            <td>auto-update-mode</td>
            <td><code>"anchor" | "auto"</code></td>
            <td>Defines what triggers position reevaluation. Default: "anchor". <code>anchor</code> the component only updates its position when the anchor resizes, <code>auto</code> the component updates its position when: the anchor, window, or viewport resizes, any scroll in the document. Both update when <code>update()</code> is called.</td>
<td>

```typescript
<rapid-anchored-layout auto-update-mode="auto">
```

</td>
        </tr>
    </tbody>
</table>

### Properties

You should only be reading these properties via the code, rather than setting them on the template.

|Property|Type|Description|
|--|--|--|
|initialLayoutComplete|`boolean`|Indicates that an initial positioning pass on layout has completed|
|verticalPosition|`"start" \| "insetStart" \| "insetEnd" \| "end" \| "center"`|Indicates the current vertical position of the region. Depending on the axis start = left/top, end = right/bottom|
|horizontalPosition|`"start" \| "insetStart" \| "insetEnd" \| "end" \| "center"`|Indicates the current horizontal position of the region. Depending on the axis start = left/top, end = right/bottom|

### Slots

|Slot|Description|
|---|---|
|Default|This elements which are contained in the anchored region.|

### Parts

This component doesn't have any css parts. Style the content in the default slot directly.

### Events fired

<table>
    <thead>
        <tr>
            <th>Event</th>
            <th>Type</th>
            <th>Description</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>loaded</td>
            <td><code>this</code></td>
            <td>Fires when the region is loaded and visible</td>
<td>

```typescript
<rapid-anchored-region @loaded=${(x,ctx) => x.handleLoaded(ctx.event)}>
```

</td>
        </tr>
        <tr>
            <td>positionchange</td>
            <td><code>this</code></td>
            <td>Fires when the position has changed</td>
<td>

```typescript
<rapid-anchored-region @positionchange=${(x,ctx) => x.handlePositionChange(ctx.event)}>
```

</td>
        </tr>
    </tbody>
</table>

:::tip
Event type `this` means the event detail is a reference to the element itself.
:::

### Events listened to

This component doesn't listen to any events.
