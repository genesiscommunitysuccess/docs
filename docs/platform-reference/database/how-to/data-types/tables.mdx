---
sidebar_position: 30
title: Tables Entities
sidebar_label: Tables Entities
id: tables

---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Table entities are classes generated by genesis that match the [data model](../../../../data-model/define). The entity
name will be modeled on the table name, but rather than snake case, it will be camel case, from `TABLE_NAME` to 
`TableName`.

## Index entities

Tables like views have [index entities](../indices). There are also convenience methods that construct an
index entity from the table entity. `byPrimaryKey()` will return an entity for the primary key. Additionally for each
index, there will be a `by...()` call with the index name.

## Builder

All table entities come with builders to help construct these objects. In kotlin, the builder works as a lambda in 
which the field values are set, and the object is build after th lambda call completes. In java, the builder is a fluent 
interface, where fields are set and the object is build in a final `build` call. 

Just before the object is build, the object is validated to make sure all [required fields](../../../concepts/data-structure/tables/#fields) have been
set.

<Tabs defaultValue="kotlin" values={[{ label: 'Kotlin', value: 'kotlin', }, { label: 'Java', value: 'java', }]}>
<TabItem value="kotlin">

```kotlin
val trade = Trade {
    tradeId = id
    tradeType = type
    tradeDate = DateTime.now()
    currencyId = "USD"
    quantity = 500
    price = 2.0
}
```
</TabItem>
<TabItem value="java">

```java
Trade trade = Trade.builder()
    .setTradeType(tradeType)
    .setTradeId(tradeId)
    .setTradeDate(now())
    .setCurrencyId("USD")
    .setQuantity(50)
    .setPrice(2.0)
    .build();
```
</TabItem>
</Tabs>

## Auditable tables

When a table is audited, the table entity can be easily converted to it's audited counterpart by calling the
`toAuditEntity` function.

<Tabs defaultValue="kotlin" values={[{ label: 'Kotlin', value: 'kotlin', }, { label: 'Java', value: 'java', }]}>
<TabItem value="kotlin">

```kotlin
val tradeAudit = trade.toAuditEntity(
    auditEventType = "trade modify"
    auditEventDatetime = DateTime.now(),
    auditEventText = "trade was modified in event",
    auditEventUser = user,
)
```
</TabItem>
<TabItem value="java">

```java
TradeAudit = trade.toAuditEntity(
    "trade modify"
    DateTime.now(),
    "trade was modified in event",
    user
);
```
</TabItem>
</Tabs>
